var Fu=Object.defineProperty,Vu=Object.defineProperties;var Lu=Object.getOwnPropertyDescriptors;var cr=Object.getOwnPropertySymbols;var ra=Object.prototype.hasOwnProperty,ia=Object.prototype.propertyIsEnumerable;var sa=(t,e,n)=>e in t?Fu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||(e={}))ra.call(e,n)&&sa(t,n,e[n]);if(cr)for(var n of cr(e))ia.call(e,n)&&sa(t,n,e[n]);return t},ne=(t,e)=>Vu(t,Lu(e));var ms=(t,e)=>{var n={};for(var s in t)ra.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&cr)for(var s of cr(t))e.indexOf(s)<0&&ia.call(t,s)&&(n[s]=t[s]);return n};const qu=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}};qu();function Ji(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Wu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bu=Ji(Wu);function fc(t){return!!t||t===""}function eo(t){if(ce(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=ze(s)?Uu(s):eo(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(ze(t))return t;if(Be(t))return t}}const ju=/;(?![^(]*\))/g,$u=/:(.+)/;function Uu(t){const e={};return t.split(ju).forEach(n=>{if(n){const s=n.split($u);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Yr(t){let e="";if(ze(t))e=t;else if(ce(t))for(let n=0;n<t.length;n++){const s=Yr(t[n]);s&&(e+=s+" ")}else if(Be(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const dc=t=>ze(t)?t:t==null?"":ce(t)||Be(t)&&(t.toString===_c||!he(t.toString))?JSON.stringify(t,pc,2):String(t),pc=(t,e)=>e&&e.__v_isRef?pc(t,e.value):zn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:mc(e)?{[`Set(${e.size})`]:[...e.values()]}:Be(e)&&!ce(e)&&!yc(e)?String(e):e,Se={},Un=[],gt=()=>{},zu=()=>!1,Hu=/^on[^a-z]/,Kr=t=>Hu.test(t),to=t=>t.startsWith("onUpdate:"),Xe=Object.assign,no=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Gu=Object.prototype.hasOwnProperty,ye=(t,e)=>Gu.call(t,e),ce=Array.isArray,zn=t=>Xr(t)==="[object Map]",mc=t=>Xr(t)==="[object Set]",he=t=>typeof t=="function",ze=t=>typeof t=="string",so=t=>typeof t=="symbol",Be=t=>t!==null&&typeof t=="object",gc=t=>Be(t)&&he(t.then)&&he(t.catch),_c=Object.prototype.toString,Xr=t=>_c.call(t),Zu=t=>Xr(t).slice(8,-1),yc=t=>Xr(t)==="[object Object]",ro=t=>ze(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yr=Ji(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Yu=/-(\w)/g,Et=Qr(t=>t.replace(Yu,(e,n)=>n?n.toUpperCase():"")),Ku=/\B([A-Z])/g,rs=Qr(t=>t.replace(Ku,"-$1").toLowerCase()),Jr=Qr(t=>t.charAt(0).toUpperCase()+t.slice(1)),mi=Qr(t=>t?`on${Jr(t)}`:""),Ns=(t,e)=>!Object.is(t,e),gi=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Cr=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Xu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let oa;const Qu=()=>oa||(oa=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Ft;class vc{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Ft&&(this.parent=Ft,this.index=(Ft.scopes||(Ft.scopes=[])).push(this)-1)}run(e){if(this.active)try{return Ft=this,e()}finally{Ft=this.parent}}on(){Ft=this}off(){Ft=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Ju(t){return new vc(t)}function eh(t,e=Ft){e&&e.active&&e.effects.push(t)}const io=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wc=t=>(t.w&an)>0,Tc=t=>(t.n&an)>0,th=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=an},nh=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];wc(r)&&!Tc(r)?r.delete(t):e[n++]=r,r.w&=~an,r.n&=~an}e.length=n}},Ai=new WeakMap;let ys=0,an=1;const Si=30;let kt;const yn=Symbol(""),xi=Symbol("");class oo{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,eh(this,s)}run(){if(!this.active)return this.fn();let e=kt,n=sn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=kt,kt=this,sn=!0,an=1<<++ys,ys<=Si?th(this):aa(this),this.fn()}finally{ys<=Si&&nh(this),an=1<<--ys,kt=this.parent,sn=n,this.parent=void 0}}stop(){this.active&&(aa(this),this.onStop&&this.onStop(),this.active=!1)}}function aa(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let sn=!0;const bc=[];function is(){bc.push(sn),sn=!1}function os(){const t=bc.pop();sn=t===void 0?!0:t}function at(t,e,n){if(sn&&kt){let s=Ai.get(t);s||Ai.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=io()),Cc(r)}}function Cc(t,e){let n=!1;ys<=Si?Tc(t)||(t.n|=an,n=!wc(t)):n=!t.has(kt),n&&(t.add(kt),kt.deps.push(t))}function jt(t,e,n,s,r,i){const o=Ai.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ce(t))o.forEach((c,l)=>{(l==="length"||l>=s)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ce(t)?ro(n)&&a.push(o.get("length")):(a.push(o.get(yn)),zn(t)&&a.push(o.get(xi)));break;case"delete":ce(t)||(a.push(o.get(yn)),zn(t)&&a.push(o.get(xi)));break;case"set":zn(t)&&a.push(o.get(yn));break}if(a.length===1)a[0]&&ki(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);ki(io(c))}}function ki(t,e){for(const n of ce(t)?t:[...t])(n!==kt||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const sh=Ji("__proto__,__v_isRef,__isVue"),Ac=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(so)),rh=ao(),ih=ao(!1,!0),oh=ao(!0),ca=ah();function ah(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=ve(this);for(let i=0,o=this.length;i<o;i++)at(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(ve)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){is();const s=ve(this)[e].apply(this,n);return os(),s}}),t}function ao(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?Ch:Ec:e?Nc:kc).get(s))return s;const o=ce(s);if(!t&&o&&ye(ca,r))return Reflect.get(ca,r,i);const a=Reflect.get(s,r,i);return(so(r)?Ac.has(r):sh(r))||(t||at(s,"get",r),e)?a:Ue(a)?!o||!ro(r)?a.value:a:Be(a)?t?Oc(a):Xs(a):a}}const ch=Sc(),lh=Sc(!0);function Sc(t=!1){return function(n,s,r,i){let o=n[s];if(Es(o)&&Ue(o)&&!Ue(r))return!1;if(!t&&!Es(r)&&(Ic(r)||(r=ve(r),o=ve(o)),!ce(n)&&Ue(o)&&!Ue(r)))return o.value=r,!0;const a=ce(n)&&ro(s)?Number(s)<n.length:ye(n,s),c=Reflect.set(n,s,r,i);return n===ve(i)&&(a?Ns(r,o)&&jt(n,"set",s,r):jt(n,"add",s,r)),c}}function uh(t,e){const n=ye(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&jt(t,"delete",e,void 0),s}function hh(t,e){const n=Reflect.has(t,e);return(!so(e)||!Ac.has(e))&&at(t,"has",e),n}function fh(t){return at(t,"iterate",ce(t)?"length":yn),Reflect.ownKeys(t)}const xc={get:rh,set:ch,deleteProperty:uh,has:hh,ownKeys:fh},dh={get:oh,set(t,e){return!0},deleteProperty(t,e){return!0}},ph=Xe({},xc,{get:ih,set:lh}),co=t=>t,ei=t=>Reflect.getPrototypeOf(t);function lr(t,e,n=!1,s=!1){t=t.__v_raw;const r=ve(t),i=ve(e);e!==i&&!n&&at(r,"get",e),!n&&at(r,"get",i);const{has:o}=ei(r),a=s?co:n?fo:Os;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function ur(t,e=!1){const n=this.__v_raw,s=ve(n),r=ve(t);return t!==r&&!e&&at(s,"has",t),!e&&at(s,"has",r),t===r?n.has(t):n.has(t)||n.has(r)}function hr(t,e=!1){return t=t.__v_raw,!e&&at(ve(t),"iterate",yn),Reflect.get(t,"size",t)}function la(t){t=ve(t);const e=ve(this);return ei(e).has.call(e,t)||(e.add(t),jt(e,"add",t,t)),this}function ua(t,e){e=ve(e);const n=ve(this),{has:s,get:r}=ei(n);let i=s.call(n,t);i||(t=ve(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Ns(e,o)&&jt(n,"set",t,e):jt(n,"add",t,e),this}function ha(t){const e=ve(this),{has:n,get:s}=ei(e);let r=n.call(e,t);r||(t=ve(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&jt(e,"delete",t,void 0),i}function fa(){const t=ve(this),e=t.size!==0,n=t.clear();return e&&jt(t,"clear",void 0,void 0),n}function fr(t,e){return function(s,r){const i=this,o=i.__v_raw,a=ve(o),c=e?co:t?fo:Os;return!t&&at(a,"iterate",yn),o.forEach((l,u)=>s.call(r,c(l),c(u),i))}}function dr(t,e,n){return function(...s){const r=this.__v_raw,i=ve(r),o=zn(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...s),u=n?co:e?fo:Os;return!e&&at(i,"iterate",c?xi:yn),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Yt(t){return function(...e){return t==="delete"?!1:this}}function mh(){const t={get(i){return lr(this,i)},get size(){return hr(this)},has:ur,add:la,set:ua,delete:ha,clear:fa,forEach:fr(!1,!1)},e={get(i){return lr(this,i,!1,!0)},get size(){return hr(this)},has:ur,add:la,set:ua,delete:ha,clear:fa,forEach:fr(!1,!0)},n={get(i){return lr(this,i,!0)},get size(){return hr(this,!0)},has(i){return ur.call(this,i,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:fr(!0,!1)},s={get(i){return lr(this,i,!0,!0)},get size(){return hr(this,!0)},has(i){return ur.call(this,i,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:fr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=dr(i,!1,!1),n[i]=dr(i,!0,!1),e[i]=dr(i,!1,!0),s[i]=dr(i,!0,!0)}),[t,n,e,s]}const[gh,_h,yh,vh]=mh();function lo(t,e){const n=e?t?vh:yh:t?_h:gh;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ye(n,r)&&r in s?n:s,r,i)}const wh={get:lo(!1,!1)},Th={get:lo(!1,!0)},bh={get:lo(!0,!1)},kc=new WeakMap,Nc=new WeakMap,Ec=new WeakMap,Ch=new WeakMap;function Ah(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sh(t){return t.__v_skip||!Object.isExtensible(t)?0:Ah(Zu(t))}function Xs(t){return Es(t)?t:uo(t,!1,xc,wh,kc)}function xh(t){return uo(t,!1,ph,Th,Nc)}function Oc(t){return uo(t,!0,dh,bh,Ec)}function uo(t,e,n,s,r){if(!Be(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Sh(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Hn(t){return Es(t)?Hn(t.__v_raw):!!(t&&t.__v_isReactive)}function Es(t){return!!(t&&t.__v_isReadonly)}function Ic(t){return!!(t&&t.__v_isShallow)}function Mc(t){return Hn(t)||Es(t)}function ve(t){const e=t&&t.__v_raw;return e?ve(e):t}function ho(t){return Cr(t,"__v_skip",!0),t}const Os=t=>Be(t)?Xs(t):t,fo=t=>Be(t)?Oc(t):t;function Rc(t){sn&&kt&&(t=ve(t),Cc(t.dep||(t.dep=io())))}function Dc(t,e){t=ve(t),t.dep&&ki(t.dep)}function Ue(t){return!!(t&&t.__v_isRef===!0)}function Pc(t){return Fc(t,!1)}function kh(t){return Fc(t,!0)}function Fc(t,e){return Ue(t)?t:new Nh(t,e)}class Nh{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ve(e),this._value=n?e:Os(e)}get value(){return Rc(this),this._value}set value(e){e=this.__v_isShallow?e:ve(e),Ns(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Os(e),Dc(this))}}function ws(t){return Ue(t)?t.value:t}const Eh={get:(t,e,n)=>ws(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Ue(r)&&!Ue(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Vc(t){return Hn(t)?t:new Proxy(t,Eh)}class Oh{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new oo(e,()=>{this._dirty||(this._dirty=!0,Dc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=ve(this);return Rc(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Ih(t,e,n=!1){let s,r;const i=he(t);return i?(s=t,r=gt):(s=t.get,r=t.set),new Oh(s,r,i||!r,n)}Promise.resolve();function rn(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){ti(i,e,n)}return r}function _t(t,e,n,s){if(he(t)){const i=rn(t,e,n,s);return i&&gc(i)&&i.catch(o=>{ti(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(_t(t[i],e,n,s));return r}function ti(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){rn(c,null,10,[t,o,a]);return}}Mh(t,n,r,s)}function Mh(t,e,n,s=!0){console.error(t)}let Ar=!1,Ni=!1;const ot=[];let Lt=0;const Ts=[];let vs=null,Ln=0;const bs=[];let Jt=null,qn=0;const Lc=Promise.resolve();let po=null,Ei=null;function qc(t){const e=po||Lc;return t?e.then(this?t.bind(this):t):e}function Rh(t){let e=Lt+1,n=ot.length;for(;e<n;){const s=e+n>>>1;Is(ot[s])<t?e=s+1:n=s}return e}function Wc(t){(!ot.length||!ot.includes(t,Ar&&t.allowRecurse?Lt+1:Lt))&&t!==Ei&&(t.id==null?ot.push(t):ot.splice(Rh(t.id),0,t),Bc())}function Bc(){!Ar&&!Ni&&(Ni=!0,po=Lc.then(Uc))}function Dh(t){const e=ot.indexOf(t);e>Lt&&ot.splice(e,1)}function jc(t,e,n,s){ce(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?s+1:s))&&n.push(t),Bc()}function Ph(t){jc(t,vs,Ts,Ln)}function Fh(t){jc(t,Jt,bs,qn)}function mo(t,e=null){if(Ts.length){for(Ei=e,vs=[...new Set(Ts)],Ts.length=0,Ln=0;Ln<vs.length;Ln++)vs[Ln]();vs=null,Ln=0,Ei=null,mo(t,e)}}function $c(t){if(bs.length){const e=[...new Set(bs)];if(bs.length=0,Jt){Jt.push(...e);return}for(Jt=e,Jt.sort((n,s)=>Is(n)-Is(s)),qn=0;qn<Jt.length;qn++)Jt[qn]();Jt=null,qn=0}}const Is=t=>t.id==null?1/0:t.id;function Uc(t){Ni=!1,Ar=!0,mo(t),ot.sort((n,s)=>Is(n)-Is(s));const e=gt;try{for(Lt=0;Lt<ot.length;Lt++){const n=ot[Lt];n&&n.active!==!1&&rn(n,null,14)}}finally{Lt=0,ot.length=0,$c(),Ar=!1,po=null,(ot.length||Ts.length||bs.length)&&Uc(t)}}function Vh(t,e,...n){const s=t.vnode.props||Se;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||Se;f?r=n.map(d=>d.trim()):h&&(r=n.map(Xu))}let a,c=s[a=mi(e)]||s[a=mi(Et(e))];!c&&i&&(c=s[a=mi(rs(e))]),c&&_t(c,t,6,r);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,_t(l,t,6,r)}}function zc(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!he(t)){const c=l=>{const u=zc(l,e,!0);u&&(a=!0,Xe(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(s.set(t,null),null):(ce(i)?i.forEach(c=>o[c]=null):Xe(o,i),s.set(t,o),o)}function go(t,e){return!t||!Kr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ye(t,e[0].toLowerCase()+e.slice(1))||ye(t,rs(e))||ye(t,e))}let Nt=null,Hc=null;function Sr(t){const e=Nt;return Nt=t,Hc=t&&t.type.__scopeId||null,e}function _o(t,e=Nt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&ba(-1);const i=Sr(e),o=t(...r);return Sr(i),s._d&&ba(1),o};return s._n=!0,s._c=!0,s._d=!0,s}function _i(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:_}=t;let m,y;const b=Sr(t);try{if(n.shapeFlag&4){const I=r||s;m=St(u.call(I,I,h,i,d,f,p)),y=c}else{const I=e;m=St(I.length>1?I(i,{attrs:c,slots:a,emit:l}):I(i,null)),y=e.props?c:Lh(c)}}catch(I){As.length=0,ti(I,t,1),m=ue(Ms)}let k=m;if(y&&_!==!1){const I=Object.keys(y),{shapeFlag:C}=k;I.length&&C&7&&(o&&I.some(to)&&(y=qh(y,o)),k=Rs(k,y))}return n.dirs&&(k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),m=k,Sr(b),m}const Lh=t=>{let e;for(const n in t)(n==="class"||n==="style"||Kr(n))&&((e||(e={}))[n]=t[n]);return e},qh=(t,e)=>{const n={};for(const s in t)(!to(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Wh(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?da(s,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!go(l,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?da(s,o,l):!0:!!o;return!1}function da(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!go(n,i))return!0}return!1}function Bh({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const jh=t=>t.__isSuspense;function $h(t,e){e&&e.pendingBranch?ce(t)?e.effects.push(...t):e.effects.push(t):Fh(t)}function Cs(t,e){if($e){let n=$e.provides;const s=$e.parent&&$e.parent.provides;s===n&&(n=$e.provides=Object.create(s)),n[t]=e}}function Wt(t,e,n=!1){const s=$e||Nt;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&he(e)?e.call(s.proxy):e}}const pa={};function vr(t,e,n){return Gc(t,e,n)}function Gc(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Se){const a=$e;let c,l=!1,u=!1;if(Ue(t)?(c=()=>t.value,l=Ic(t)):Hn(t)?(c=()=>t,s=!0):ce(t)?(u=!0,l=t.some(Hn),c=()=>t.map(y=>{if(Ue(y))return y.value;if(Hn(y))return jn(y);if(he(y))return rn(y,a,2)})):he(t)?e?c=()=>rn(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),_t(t,a,3,[f])}:c=gt,e&&s){const y=c;c=()=>jn(y())}let h,f=y=>{h=m.onStop=()=>{rn(y,a,4)}};if(Ds)return f=gt,e?n&&_t(e,a,3,[c(),u?[]:void 0,f]):c(),gt;let d=u?[]:pa;const p=()=>{if(!!m.active)if(e){const y=m.run();(s||l||(u?y.some((b,k)=>Ns(b,d[k])):Ns(y,d)))&&(h&&h(),_t(e,a,3,[y,d===pa?void 0:d,f]),d=y)}else m.run()};p.allowRecurse=!!e;let _;r==="sync"?_=p:r==="post"?_=()=>et(p,a&&a.suspense):_=()=>{!a||a.isMounted?Ph(p):p()};const m=new oo(c,_);return e?n?p():d=m.run():r==="post"?et(m.run.bind(m),a&&a.suspense):m.run(),()=>{m.stop(),a&&a.scope&&no(a.scope.effects,m)}}function Uh(t,e,n){const s=this.proxy,r=ze(t)?t.includes(".")?Zc(s,t):()=>s[t]:t.bind(s,s);let i;he(e)?i=e:(i=e.handler,n=e);const o=$e;Kn(this);const a=Gc(r,i.bind(s),n);return o?Kn(o):wn(),a}function Zc(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function jn(t,e){if(!Be(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ue(t))jn(t.value,e);else if(ce(t))for(let n=0;n<t.length;n++)jn(t[n],e);else if(mc(t)||zn(t))t.forEach(n=>{jn(n,e)});else if(yc(t))for(const n in t)jn(t[n],e);return t}function Ut(t){return he(t)?{setup:t,name:t.name}:t}const Oi=t=>!!t.type.__asyncLoader,Yc=t=>t.type.__isKeepAlive;function zh(t,e){Kc(t,"a",e)}function Hh(t,e){Kc(t,"da",e)}function Kc(t,e,n=$e){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(ni(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Yc(r.parent.vnode)&&Gh(s,e,n,r),r=r.parent}}function Gh(t,e,n,s){const r=ni(e,t,s,!0);Xc(()=>{no(s[e],r)},n)}function ni(t,e,n=$e,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;is(),Kn(n);const a=_t(e,n,t,o);return wn(),os(),a});return s?r.unshift(i):r.push(i),i}}const zt=t=>(e,n=$e)=>(!Ds||t==="sp")&&ni(t,e,n),Zh=zt("bm"),Yh=zt("m"),Kh=zt("bu"),Xh=zt("u"),Qh=zt("bum"),Xc=zt("um"),Jh=zt("sp"),ef=zt("rtg"),tf=zt("rtc");function nf(t,e=$e){ni("ec",t,e)}let Ii=!0;function sf(t){const e=Jc(t),n=t.proxy,s=t.ctx;Ii=!1,e.beforeCreate&&ma(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:_,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:k,unmounted:I,render:C,renderTracked:A,renderTriggered:T,errorCaptured:x,serverPrefetch:W,expose:G,inheritAttrs:L,components:M,directives:Z,filters:R}=e;if(l&&rf(l,s,null,t.appContext.config.unwrapInjectedRef),o)for(const U in o){const K=o[U];he(K)&&(s[U]=K.bind(n))}if(r){const U=r.call(n,n);Be(U)&&(t.data=Xs(U))}if(Ii=!0,i)for(const U in i){const K=i[U],Q=he(K)?K.bind(n,n):he(K.get)?K.get.bind(n,n):gt,se=!he(K)&&he(K.set)?K.set.bind(n):gt,oe=xt({get:Q,set:se});Object.defineProperty(s,U,{enumerable:!0,configurable:!0,get:()=>oe.value,set:fe=>oe.value=fe})}if(a)for(const U in a)Qc(a[U],s,n,U);if(c){const U=he(c)?c.call(n):c;Reflect.ownKeys(U).forEach(K=>{Cs(K,U[K])})}u&&ma(u,t,"c");function $(U,K){ce(K)?K.forEach(Q=>U(Q.bind(n))):K&&U(K.bind(n))}if($(Zh,h),$(Yh,f),$(Kh,d),$(Xh,p),$(zh,_),$(Hh,m),$(nf,x),$(tf,A),$(ef,T),$(Qh,b),$(Xc,I),$(Jh,W),ce(G))if(G.length){const U=t.exposed||(t.exposed={});G.forEach(K=>{Object.defineProperty(U,K,{get:()=>n[K],set:Q=>n[K]=Q})})}else t.exposed||(t.exposed={});C&&t.render===gt&&(t.render=C),L!=null&&(t.inheritAttrs=L),M&&(t.components=M),Z&&(t.directives=Z)}function rf(t,e,n=gt,s=!1){ce(t)&&(t=Mi(t));for(const r in t){const i=t[r];let o;Be(i)?"default"in i?o=Wt(i.from||r,i.default,!0):o=Wt(i.from||r):o=Wt(i),Ue(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function ma(t,e,n){_t(ce(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Qc(t,e,n,s){const r=s.includes(".")?Zc(n,s):()=>n[s];if(ze(t)){const i=e[t];he(i)&&vr(r,i)}else if(he(t))vr(r,t.bind(n));else if(Be(t))if(ce(t))t.forEach(i=>Qc(i,e,n,s));else{const i=he(t.handler)?t.handler.bind(n):e[t.handler];he(i)&&vr(r,i,t)}}function Jc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(l=>xr(c,l,o,!0)),xr(c,e,o)),i.set(e,c),c}function xr(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&xr(t,i,n,!0),r&&r.forEach(o=>xr(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=of[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const of={data:ga,props:mn,emits:mn,methods:mn,computed:mn,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:mn,directives:mn,watch:cf,provide:ga,inject:af};function ga(t,e){return e?t?function(){return Xe(he(t)?t.call(this,this):t,he(e)?e.call(this,this):e)}:e:t}function af(t,e){return mn(Mi(t),Mi(e))}function Mi(t){if(ce(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ze(t,e){return t?[...new Set([].concat(t,e))]:e}function mn(t,e){return t?Xe(Xe(Object.create(null),t),e):e}function cf(t,e){if(!t)return e;if(!e)return t;const n=Xe(Object.create(null),t);for(const s in e)n[s]=Ze(t[s],e[s]);return n}function lf(t,e,n,s=!1){const r={},i={};Cr(i,si,1),t.propsDefaults=Object.create(null),el(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:xh(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function uf(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=ve(r),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];const d=e[f];if(c)if(ye(i,f))d!==i[f]&&(i[f]=d,l=!0);else{const p=Et(f);r[p]=Ri(c,a,p,d,t,!1)}else d!==i[f]&&(i[f]=d,l=!0)}}}else{el(t,e,r,i)&&(l=!0);let u;for(const h in a)(!e||!ye(e,h)&&((u=rs(h))===h||!ye(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=Ri(c,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!ye(e,h)&&!0)&&(delete i[h],l=!0)}l&&jt(t,"set","$attrs")}function el(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(yr(c))continue;const l=e[c];let u;r&&ye(r,u=Et(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:go(t.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=ve(n),l=a||Se;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Ri(r,c,h,l[h],t,!ye(l,h))}}return o}function Ri(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=ye(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&he(c)){const{propsDefaults:l}=r;n in l?s=l[n]:(Kn(r),s=l[n]=c.call(null,e),wn())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===rs(n))&&(s=!0))}return s}function tl(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!he(t)){const u=h=>{c=!0;const[f,d]=tl(h,e,!0);Xe(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return s.set(t,Un),Un;if(ce(i))for(let u=0;u<i.length;u++){const h=Et(i[u]);_a(h)&&(o[h]=Se)}else if(i)for(const u in i){const h=Et(u);if(_a(h)){const f=i[u],d=o[h]=ce(f)||he(f)?{type:f}:f;if(d){const p=wa(Boolean,d.type),_=wa(String,d.type);d[0]=p>-1,d[1]=_<0||p<_,(p>-1||ye(d,"default"))&&a.push(h)}}}const l=[o,a];return s.set(t,l),l}function _a(t){return t[0]!=="$"}function ya(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function va(t,e){return ya(t)===ya(e)}function wa(t,e){return ce(e)?e.findIndex(n=>va(n,t)):he(e)&&va(e,t)?0:-1}const nl=t=>t[0]==="_"||t==="$stable",yo=t=>ce(t)?t.map(St):[St(t)],hf=(t,e,n)=>{const s=_o((...r)=>yo(e(...r)),n);return s._c=!1,s},sl=(t,e,n)=>{const s=t._ctx;for(const r in t){if(nl(r))continue;const i=t[r];if(he(i))e[r]=hf(r,i,s);else if(i!=null){const o=yo(i);e[r]=()=>o}}},rl=(t,e)=>{const n=yo(e);t.slots.default=()=>n},ff=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ve(e),Cr(e,"_",n)):sl(e,t.slots={})}else t.slots={},e&&rl(t,e);Cr(t.slots,si,1)},df=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Se;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Xe(r,e),!n&&a===1&&delete r._):(i=!e.$stable,sl(e,r)),o=e}else e&&(rl(t,e),o={default:1});if(i)for(const a in r)!nl(a)&&!(a in o)&&delete r[a]};function dn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(is(),_t(c,n,8,[t.el,a,t,e]),os())}}function il(){return{app:null,config:{isNativeTag:zu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pf=0;function mf(t,e){return function(s,r=null){r!=null&&!Be(r)&&(r=null);const i=il(),o=new Set;let a=!1;const c=i.app={_uid:pf++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Vf,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&he(l.install)?(o.add(l),l.install(c,...u)):he(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=ue(s,r);return f.appContext=i,u&&e?e(f,l):t(f,l,h),a=!0,c._container=l,l.__vue_app__=c,bo(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function Di(t,e,n,s,r=!1){if(ce(t)){t.forEach((f,d)=>Di(f,e&&(ce(e)?e[d]:e),n,s,r));return}if(Oi(s)&&!r)return;const i=s.shapeFlag&4?bo(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Se?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(ze(l)?(u[l]=null,ye(h,l)&&(h[l]=null)):Ue(l)&&(l.value=null)),he(c))rn(c,a,12,[o,u]);else{const f=ze(c),d=Ue(c);if(f||d){const p=()=>{if(t.f){const _=f?u[c]:c.value;r?ce(_)&&no(_,i):ce(_)?_.includes(i)||_.push(i):f?u[c]=[i]:(c.value=[i],t.k&&(u[t.k]=c.value))}else f?(u[c]=o,ye(h,c)&&(h[c]=o)):Ue(c)&&(c.value=o,t.k&&(u[t.k]=o))};o?(p.id=-1,et(p,n)):p()}}}const et=$h;function gf(t){return _f(t)}function _f(t,e){const n=Qu();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=gt,cloneNode:p,insertStaticContent:_}=t,m=(g,w,v,S=null,E=null,P=null,F=!1,D=null,q=!!w.dynamicChildren)=>{if(g===w)return;g&&!gs(g,w)&&(S=J(g),me(g,E,P,!0),g=null),w.patchFlag===-2&&(q=!1,w.dynamicChildren=null);const{type:V,ref:ee,shapeFlag:X}=w;switch(V){case vo:y(g,w,v,S);break;case Ms:b(g,w,v,S);break;case yi:g==null&&k(w,v,S,F);break;case lt:Z(g,w,v,S,E,P,F,D,q);break;default:X&1?A(g,w,v,S,E,P,F,D,q):X&6?R(g,w,v,S,E,P,F,D,q):(X&64||X&128)&&V.process(g,w,v,S,E,P,F,D,q,z)}ee!=null&&E&&Di(ee,g&&g.ref,P,w||g,!w)},y=(g,w,v,S)=>{if(g==null)s(w.el=a(w.children),v,S);else{const E=w.el=g.el;w.children!==g.children&&l(E,w.children)}},b=(g,w,v,S)=>{g==null?s(w.el=c(w.children||""),v,S):w.el=g.el},k=(g,w,v,S)=>{[g.el,g.anchor]=_(g.children,w,v,S,g.el,g.anchor)},I=({el:g,anchor:w},v,S)=>{let E;for(;g&&g!==w;)E=f(g),s(g,v,S),g=E;s(w,v,S)},C=({el:g,anchor:w})=>{let v;for(;g&&g!==w;)v=f(g),r(g),g=v;r(w)},A=(g,w,v,S,E,P,F,D,q)=>{F=F||w.type==="svg",g==null?T(w,v,S,E,P,F,D,q):G(g,w,E,P,F,D,q)},T=(g,w,v,S,E,P,F,D)=>{let q,V;const{type:ee,props:X,shapeFlag:te,transition:ie,patchFlag:_e,dirs:Ee}=g;if(g.el&&p!==void 0&&_e===-1)q=g.el=p(g.el);else{if(q=g.el=o(g.type,P,X&&X.is,X),te&8?u(q,g.children):te&16&&W(g.children,q,null,S,E,P&&ee!=="foreignObject",F,D),Ee&&dn(g,null,S,"created"),X){for(const ke in X)ke!=="value"&&!yr(ke)&&i(q,ke,null,X[ke],P,g.children,S,E,N);"value"in X&&i(q,"value",null,X.value),(V=X.onVnodeBeforeMount)&&At(V,S,g)}x(q,g,g.scopeId,F,S)}Ee&&dn(g,null,S,"beforeMount");const Te=(!E||E&&!E.pendingBranch)&&ie&&!ie.persisted;Te&&ie.beforeEnter(q),s(q,w,v),((V=X&&X.onVnodeMounted)||Te||Ee)&&et(()=>{V&&At(V,S,g),Te&&ie.enter(q),Ee&&dn(g,null,S,"mounted")},E)},x=(g,w,v,S,E)=>{if(v&&d(g,v),S)for(let P=0;P<S.length;P++)d(g,S[P]);if(E){let P=E.subTree;if(w===P){const F=E.vnode;x(g,F,F.scopeId,F.slotScopeIds,E.parent)}}},W=(g,w,v,S,E,P,F,D,q=0)=>{for(let V=q;V<g.length;V++){const ee=g[V]=D?en(g[V]):St(g[V]);m(null,ee,w,v,S,E,P,F,D)}},G=(g,w,v,S,E,P,F)=>{const D=w.el=g.el;let{patchFlag:q,dynamicChildren:V,dirs:ee}=w;q|=g.patchFlag&16;const X=g.props||Se,te=w.props||Se;let ie;v&&pn(v,!1),(ie=te.onVnodeBeforeUpdate)&&At(ie,v,w,g),ee&&dn(w,g,v,"beforeUpdate"),v&&pn(v,!0);const _e=E&&w.type!=="foreignObject";if(V?L(g.dynamicChildren,V,D,v,S,_e,P):F||Q(g,w,D,null,v,S,_e,P,!1),q>0){if(q&16)M(D,w,X,te,v,S,E);else if(q&2&&X.class!==te.class&&i(D,"class",null,te.class,E),q&4&&i(D,"style",X.style,te.style,E),q&8){const Ee=w.dynamicProps;for(let Te=0;Te<Ee.length;Te++){const ke=Ee[Te],ft=X[ke],Fn=te[ke];(Fn!==ft||ke==="value")&&i(D,ke,ft,Fn,E,g.children,v,S,N)}}q&1&&g.children!==w.children&&u(D,w.children)}else!F&&V==null&&M(D,w,X,te,v,S,E);((ie=te.onVnodeUpdated)||ee)&&et(()=>{ie&&At(ie,v,w,g),ee&&dn(w,g,v,"updated")},S)},L=(g,w,v,S,E,P,F)=>{for(let D=0;D<w.length;D++){const q=g[D],V=w[D],ee=q.el&&(q.type===lt||!gs(q,V)||q.shapeFlag&70)?h(q.el):v;m(q,V,ee,null,S,E,P,F,!0)}},M=(g,w,v,S,E,P,F)=>{if(v!==S){for(const D in S){if(yr(D))continue;const q=S[D],V=v[D];q!==V&&D!=="value"&&i(g,D,V,q,F,w.children,E,P,N)}if(v!==Se)for(const D in v)!yr(D)&&!(D in S)&&i(g,D,v[D],null,F,w.children,E,P,N);"value"in S&&i(g,"value",v.value,S.value)}},Z=(g,w,v,S,E,P,F,D,q)=>{const V=w.el=g?g.el:a(""),ee=w.anchor=g?g.anchor:a("");let{patchFlag:X,dynamicChildren:te,slotScopeIds:ie}=w;ie&&(D=D?D.concat(ie):ie),g==null?(s(V,v,S),s(ee,v,S),W(w.children,v,ee,E,P,F,D,q)):X>0&&X&64&&te&&g.dynamicChildren?(L(g.dynamicChildren,te,v,E,P,F,D),(w.key!=null||E&&w===E.subTree)&&ol(g,w,!0)):Q(g,w,v,ee,E,P,F,D,q)},R=(g,w,v,S,E,P,F,D,q)=>{w.slotScopeIds=D,g==null?w.shapeFlag&512?E.ctx.activate(w,v,S,F,q):Y(w,v,S,E,P,F,q):$(g,w,q)},Y=(g,w,v,S,E,P,F)=>{const D=g.component=Of(g,S,E);if(Yc(g)&&(D.ctx.renderer=z),If(D),D.asyncDep){if(E&&E.registerDep(D,U),!g.el){const q=D.subTree=ue(Ms);b(null,q,w,v)}return}U(D,g,w,v,E,P,F)},$=(g,w,v)=>{const S=w.component=g.component;if(Wh(g,w,v))if(S.asyncDep&&!S.asyncResolved){K(S,w,v);return}else S.next=w,Dh(S.update),S.update();else w.component=g.component,w.el=g.el,S.vnode=w},U=(g,w,v,S,E,P,F)=>{const D=()=>{if(g.isMounted){let{next:ee,bu:X,u:te,parent:ie,vnode:_e}=g,Ee=ee,Te;pn(g,!1),ee?(ee.el=_e.el,K(g,ee,F)):ee=_e,X&&gi(X),(Te=ee.props&&ee.props.onVnodeBeforeUpdate)&&At(Te,ie,ee,_e),pn(g,!0);const ke=_i(g),ft=g.subTree;g.subTree=ke,m(ft,ke,h(ft.el),J(ft),g,E,P),ee.el=ke.el,Ee===null&&Bh(g,ke.el),te&&et(te,E),(Te=ee.props&&ee.props.onVnodeUpdated)&&et(()=>At(Te,ie,ee,_e),E)}else{let ee;const{el:X,props:te}=w,{bm:ie,m:_e,parent:Ee}=g,Te=Oi(w);if(pn(g,!1),ie&&gi(ie),!Te&&(ee=te&&te.onVnodeBeforeMount)&&At(ee,Ee,w),pn(g,!0),X&&re){const ke=()=>{g.subTree=_i(g),re(X,g.subTree,g,E,null)};Te?w.type.__asyncLoader().then(()=>!g.isUnmounted&&ke()):ke()}else{const ke=g.subTree=_i(g);m(null,ke,v,S,g,E,P),w.el=ke.el}if(_e&&et(_e,E),!Te&&(ee=te&&te.onVnodeMounted)){const ke=w;et(()=>At(ee,Ee,ke),E)}w.shapeFlag&256&&g.a&&et(g.a,E),g.isMounted=!0,w=v=S=null}},q=g.effect=new oo(D,()=>Wc(g.update),g.scope),V=g.update=q.run.bind(q);V.id=g.uid,pn(g,!0),V()},K=(g,w,v)=>{w.component=g;const S=g.vnode.props;g.vnode=w,g.next=null,uf(g,w.props,S,v),df(g,w.children,v),is(),mo(void 0,g.update),os()},Q=(g,w,v,S,E,P,F,D,q=!1)=>{const V=g&&g.children,ee=g?g.shapeFlag:0,X=w.children,{patchFlag:te,shapeFlag:ie}=w;if(te>0){if(te&128){oe(V,X,v,S,E,P,F,D,q);return}else if(te&256){se(V,X,v,S,E,P,F,D,q);return}}ie&8?(ee&16&&N(V,E,P),X!==V&&u(v,X)):ee&16?ie&16?oe(V,X,v,S,E,P,F,D,q):N(V,E,P,!0):(ee&8&&u(v,""),ie&16&&W(X,v,S,E,P,F,D,q))},se=(g,w,v,S,E,P,F,D,q)=>{g=g||Un,w=w||Un;const V=g.length,ee=w.length,X=Math.min(V,ee);let te;for(te=0;te<X;te++){const ie=w[te]=q?en(w[te]):St(w[te]);m(g[te],ie,v,null,E,P,F,D,q)}V>ee?N(g,E,P,!0,!1,X):W(w,v,S,E,P,F,D,q,X)},oe=(g,w,v,S,E,P,F,D,q)=>{let V=0;const ee=w.length;let X=g.length-1,te=ee-1;for(;V<=X&&V<=te;){const ie=g[V],_e=w[V]=q?en(w[V]):St(w[V]);if(gs(ie,_e))m(ie,_e,v,null,E,P,F,D,q);else break;V++}for(;V<=X&&V<=te;){const ie=g[X],_e=w[te]=q?en(w[te]):St(w[te]);if(gs(ie,_e))m(ie,_e,v,null,E,P,F,D,q);else break;X--,te--}if(V>X){if(V<=te){const ie=te+1,_e=ie<ee?w[ie].el:S;for(;V<=te;)m(null,w[V]=q?en(w[V]):St(w[V]),v,_e,E,P,F,D,q),V++}}else if(V>te)for(;V<=X;)me(g[V],E,P,!0),V++;else{const ie=V,_e=V,Ee=new Map;for(V=_e;V<=te;V++){const it=w[V]=q?en(w[V]):St(w[V]);it.key!=null&&Ee.set(it.key,V)}let Te,ke=0;const ft=te-_e+1;let Fn=!1,ea=0;const ps=new Array(ft);for(V=0;V<ft;V++)ps[V]=0;for(V=ie;V<=X;V++){const it=g[V];if(ke>=ft){me(it,E,P,!0);continue}let Ct;if(it.key!=null)Ct=Ee.get(it.key);else for(Te=_e;Te<=te;Te++)if(ps[Te-_e]===0&&gs(it,w[Te])){Ct=Te;break}Ct===void 0?me(it,E,P,!0):(ps[Ct-_e]=V+1,Ct>=ea?ea=Ct:Fn=!0,m(it,w[Ct],v,null,E,P,F,D,q),ke++)}const ta=Fn?yf(ps):Un;for(Te=ta.length-1,V=ft-1;V>=0;V--){const it=_e+V,Ct=w[it],na=it+1<ee?w[it+1].el:S;ps[V]===0?m(null,Ct,v,na,E,P,F,D,q):Fn&&(Te<0||V!==ta[Te]?fe(Ct,v,na,2):Te--)}}},fe=(g,w,v,S,E=null)=>{const{el:P,type:F,transition:D,children:q,shapeFlag:V}=g;if(V&6){fe(g.component.subTree,w,v,S);return}if(V&128){g.suspense.move(w,v,S);return}if(V&64){F.move(g,w,v,z);return}if(F===lt){s(P,w,v);for(let X=0;X<q.length;X++)fe(q[X],w,v,S);s(g.anchor,w,v);return}if(F===yi){I(g,w,v);return}if(S!==2&&V&1&&D)if(S===0)D.beforeEnter(P),s(P,w,v),et(()=>D.enter(P),E);else{const{leave:X,delayLeave:te,afterLeave:ie}=D,_e=()=>s(P,w,v),Ee=()=>{X(P,()=>{_e(),ie&&ie()})};te?te(P,_e,Ee):Ee()}else s(P,w,v)},me=(g,w,v,S=!1,E=!1)=>{const{type:P,props:F,ref:D,children:q,dynamicChildren:V,shapeFlag:ee,patchFlag:X,dirs:te}=g;if(D!=null&&Di(D,null,v,g,!0),ee&256){w.ctx.deactivate(g);return}const ie=ee&1&&te,_e=!Oi(g);let Ee;if(_e&&(Ee=F&&F.onVnodeBeforeUnmount)&&At(Ee,w,g),ee&6)j(g.component,v,S);else{if(ee&128){g.suspense.unmount(v,S);return}ie&&dn(g,null,w,"beforeUnmount"),ee&64?g.type.remove(g,w,v,E,z,S):V&&(P!==lt||X>0&&X&64)?N(V,w,v,!1,!0):(P===lt&&X&384||!E&&ee&16)&&N(q,w,v),S&&je(g)}(_e&&(Ee=F&&F.onVnodeUnmounted)||ie)&&et(()=>{Ee&&At(Ee,w,g),ie&&dn(g,null,w,"unmounted")},v)},je=g=>{const{type:w,el:v,anchor:S,transition:E}=g;if(w===lt){O(v,S);return}if(w===yi){C(g);return}const P=()=>{r(v),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(g.shapeFlag&1&&E&&!E.persisted){const{leave:F,delayLeave:D}=E,q=()=>F(v,P);D?D(g.el,P,q):q()}else P()},O=(g,w)=>{let v;for(;g!==w;)v=f(g),r(g),g=v;r(w)},j=(g,w,v)=>{const{bum:S,scope:E,update:P,subTree:F,um:D}=g;S&&gi(S),E.stop(),P&&(P.active=!1,me(F,g,w,v)),D&&et(D,w),et(()=>{g.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},N=(g,w,v,S=!1,E=!1,P=0)=>{for(let F=P;F<g.length;F++)me(g[F],w,v,S,E)},J=g=>g.shapeFlag&6?J(g.component.subTree):g.shapeFlag&128?g.suspense.next():f(g.anchor||g.el),ge=(g,w,v)=>{g==null?w._vnode&&me(w._vnode,null,null,!0):m(w._vnode||null,g,w,null,null,null,v),$c(),w._vnode=g},z={p:m,um:me,m:fe,r:je,mt:Y,mc:W,pc:Q,pbc:L,n:J,o:t};let ae,re;return e&&([ae,re]=e(z)),{render:ge,hydrate:ae,createApp:mf(ge,ae)}}function pn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function ol(t,e,n=!1){const s=t.children,r=e.children;if(ce(s)&&ce(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=en(r[i]),a.el=o.el),n||ol(o,a))}}function yf(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(r=n[n.length-1],t[r]<l){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const vf=t=>t.__isTeleport,al="components";function cn(t,e){return Tf(al,t,!0,e)||t}const wf=Symbol();function Tf(t,e,n=!0,s=!1){const r=Nt||$e;if(r){const i=r.type;if(t===al){const a=Pf(i);if(a&&(a===e||a===Et(e)||a===Jr(Et(e))))return i}const o=Ta(r[t]||i[t],e)||Ta(r.appContext[t],e);return!o&&s?i:o}}function Ta(t,e){return t&&(t[e]||t[Et(e)]||t[Jr(Et(e))])}const lt=Symbol(void 0),vo=Symbol(void 0),Ms=Symbol(void 0),yi=Symbol(void 0),As=[];let vn=null;function On(t=!1){As.push(vn=t?null:[])}function bf(){As.pop(),vn=As[As.length-1]||null}let kr=1;function ba(t){kr+=t}function Cf(t){return t.dynamicChildren=kr>0?vn||Un:null,bf(),kr>0&&vn&&vn.push(t),t}function In(t,e,n,s,r,i){return Cf(nt(t,e,n,s,r,i,!0))}function Pi(t){return t?t.__v_isVNode===!0:!1}function gs(t,e){return t.type===e.type&&t.key===e.key}const si="__vInternal",cl=({key:t})=>t!=null?t:null,wr=({ref:t,ref_key:e,ref_for:n})=>t!=null?ze(t)||Ue(t)||he(t)?{i:Nt,r:t,k:e,f:!!n}:t:null;function nt(t,e=null,n=null,s=0,r=null,i=t===lt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cl(e),ref:e&&wr(e),scopeId:Hc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(To(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=ze(n)?8:16),kr>0&&!o&&vn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&vn.push(c),c}const ue=Af;function Af(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===wf)&&(t=Ms),Pi(t)){const a=Rs(t,e,!0);return n&&To(a,n),a}if(Ff(t)&&(t=t.__vccOpts),e){e=Sf(e);let{class:a,style:c}=e;a&&!ze(a)&&(e.class=Yr(a)),Be(c)&&(Mc(c)&&!ce(c)&&(c=Xe({},c)),e.style=eo(c))}const o=ze(t)?1:jh(t)?128:vf(t)?64:Be(t)?4:he(t)?2:0;return nt(t,e,n,s,r,o,i,!0)}function Sf(t){return t?Mc(t)||si in t?Xe({},t):t:null}function Rs(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?xf(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&cl(a),ref:e&&e.ref?n&&r?ce(r)?r.concat(wr(e)):[r,wr(e)]:wr(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==lt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rs(t.ssContent),ssFallback:t.ssFallback&&Rs(t.ssFallback),el:t.el,anchor:t.anchor}}function wo(t=" ",e=0){return ue(vo,null,t,e)}function St(t){return t==null||typeof t=="boolean"?ue(Ms):ce(t)?ue(lt,null,t.slice()):typeof t=="object"?en(t):ue(vo,null,String(t))}function en(t){return t.el===null||t.memo?t:Rs(t)}function To(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ce(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),To(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(si in e)?e._ctx=Nt:r===3&&Nt&&(Nt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else he(e)?(e={default:e,_ctx:Nt},n=32):(e=String(e),s&64?(n=16,e=[wo(e)]):n=8);t.children=e,t.shapeFlag|=n}function xf(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Yr([e.class,s.class]));else if(r==="style")e.style=eo([e.style,s.style]);else if(Kr(r)){const i=e[r],o=s[r];o&&i!==o&&!(ce(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function At(t,e,n,s=null){_t(t,e,7,[n,s])}const Fi=t=>t?ll(t)?bo(t)||t.proxy:Fi(t.parent):null,Nr=Xe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fi(t.parent),$root:t=>Fi(t.root),$emit:t=>t.emit,$options:t=>Jc(t),$forceUpdate:t=>()=>Wc(t.update),$nextTick:t=>qc.bind(t.proxy),$watch:t=>Uh.bind(t)}),kf={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(s!==Se&&ye(s,e))return o[e]=1,s[e];if(r!==Se&&ye(r,e))return o[e]=2,r[e];if((l=t.propsOptions[0])&&ye(l,e))return o[e]=3,i[e];if(n!==Se&&ye(n,e))return o[e]=4,n[e];Ii&&(o[e]=0)}}const u=Nr[e];let h,f;if(u)return e==="$attrs"&&at(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Se&&ye(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,ye(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return r!==Se&&ye(r,e)?(r[e]=n,!0):s!==Se&&ye(s,e)?(s[e]=n,!0):ye(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Se&&ye(t,o)||e!==Se&&ye(e,o)||(a=i[0])&&ye(a,o)||ye(s,o)||ye(Nr,o)||ye(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?this.set(t,e,n.get(),null):n.value!=null&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},Nf=il();let Ef=0;function Of(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Nf,i={uid:Ef++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new vc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tl(s,r),emitsOptions:zc(s,r),emit:null,emitted:null,propsDefaults:Se,inheritAttrs:s.inheritAttrs,ctx:Se,data:Se,props:Se,attrs:Se,slots:Se,refs:Se,setupState:Se,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Vh.bind(null,i),t.ce&&t.ce(i),i}let $e=null;const Kn=t=>{$e=t,t.scope.on()},wn=()=>{$e&&$e.scope.off(),$e=null};function ll(t){return t.vnode.shapeFlag&4}let Ds=!1;function If(t,e=!1){Ds=e;const{props:n,children:s}=t.vnode,r=ll(t);lf(t,n,r,e),ff(t,s);const i=r?Mf(t,e):void 0;return Ds=!1,i}function Mf(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ho(new Proxy(t.ctx,kf));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?Df(t):null;Kn(t),is();const i=rn(s,t,0,[t.props,r]);if(os(),wn(),gc(i)){if(i.then(wn,wn),e)return i.then(o=>{Ca(t,o,e)}).catch(o=>{ti(o,t,0)});t.asyncDep=i}else Ca(t,i,e)}else ul(t,e)}function Ca(t,e,n){he(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Be(e)&&(t.setupState=Vc(e)),ul(t,n)}let Aa;function ul(t,e,n){const s=t.type;if(!t.render){if(!e&&Aa&&!s.render){const r=s.template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,l=Xe(Xe({isCustomElement:i,delimiters:a},o),c);s.render=Aa(r,l)}}t.render=s.render||gt}Kn(t),is(),sf(t),os(),wn()}function Rf(t){return new Proxy(t.attrs,{get(e,n){return at(t,"get","$attrs"),e[n]}})}function Df(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=Rf(t))},slots:t.slots,emit:t.emit,expose:e}}function bo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Vc(ho(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Nr)return Nr[n](t)}}))}function Pf(t){return he(t)&&t.displayName||t.name}function Ff(t){return he(t)&&"__vccOpts"in t}const xt=(t,e)=>Ih(t,e,Ds);function hl(t,e,n){const s=arguments.length;return s===2?Be(e)&&!ce(e)?Pi(e)?ue(t,null,[e]):ue(t,e):ue(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Pi(n)&&(n=[n]),ue(t,e,n))}const Vf="3.2.31",Lf="http://www.w3.org/2000/svg",gn=typeof document!="undefined"?document:null,Sa=gn&&gn.createElement("template"),qf={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?gn.createElementNS(Lf,t):gn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>gn.createTextNode(t),createComment:t=>gn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>gn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Sa.innerHTML=s?`<svg>${t}</svg>`:t;const a=Sa.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Wf(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Bf(t,e,n){const s=t.style,r=ze(n);if(n&&!r){for(const i in n)Vi(s,i,n[i]);if(e&&!ze(e))for(const i in e)n[i]==null&&Vi(s,i,"")}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const xa=/\s*!important$/;function Vi(t,e,n){if(ce(n))n.forEach(s=>Vi(t,e,s));else if(e.startsWith("--"))t.setProperty(e,n);else{const s=jf(t,e);xa.test(n)?t.setProperty(rs(s),n.replace(xa,""),"important"):t[s]=n}}const ka=["Webkit","Moz","ms"],vi={};function jf(t,e){const n=vi[e];if(n)return n;let s=Et(e);if(s!=="filter"&&s in t)return vi[e]=s;s=Jr(s);for(let r=0;r<ka.length;r++){const i=ka[r]+s;if(i in t)return vi[e]=i}return e}const Na="http://www.w3.org/1999/xlink";function $f(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Na,e.slice(6,e.length)):t.setAttributeNS(Na,e,n);else{const i=Bu(e);n==null||i&&!fc(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Uf(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const a=n==null?"":n;(t.value!==a||t.tagName==="OPTION")&&(t.value=a),n==null&&t.removeAttribute(e);return}if(n===""||n==null){const a=typeof t[e];if(a==="boolean"){t[e]=fc(n);return}else if(n==null&&a==="string"){t[e]="",t.removeAttribute(e);return}else if(a==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=n}catch{}}let Er=Date.now,fl=!1;if(typeof window!="undefined"){Er()>document.createEvent("Event").timeStamp&&(Er=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);fl=!!(t&&Number(t[1])<=53)}let Li=0;const zf=Promise.resolve(),Hf=()=>{Li=0},Gf=()=>Li||(zf.then(Hf),Li=Er());function Zf(t,e,n,s){t.addEventListener(e,n,s)}function Yf(t,e,n,s){t.removeEventListener(e,n,s)}function Kf(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=Xf(e);if(s){const l=i[e]=Qf(s,r);Zf(t,a,l,c)}else o&&(Yf(t,a,o,c),i[e]=void 0)}}const Ea=/(?:Once|Passive|Capture)$/;function Xf(t){let e;if(Ea.test(t)){e={};let n;for(;n=t.match(Ea);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[rs(t.slice(2)),e]}function Qf(t,e){const n=s=>{const r=s.timeStamp||Er();(fl||r>=n.attached-1)&&_t(Jf(s,n.value),e,5,[s])};return n.value=t,n.attached=Gf(),n}function Jf(t,e){if(ce(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Oa=/^on[a-z]/,ed=(t,e,n,s,r=!1,i,o,a,c)=>{e==="class"?Wf(t,s,r):e==="style"?Bf(t,n,s):Kr(e)?to(e)||Kf(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):td(t,e,s,r))?Uf(t,e,s,i,o,a,c):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),$f(t,e,s,r))};function td(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Oa.test(e)&&he(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Oa.test(e)&&ze(n)?!1:e in t}const nd=Xe({patchProp:ed},qf);let Ia;function sd(){return Ia||(Ia=gf(nd))}const rd=(...t)=>{const e=sd().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=id(s);if(!r)return;const i=e._component;!he(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function id(t){return ze(t)?document.querySelector(t):t}var od=!1;/*!
  * pinia v2.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ad=Symbol();var Ma;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ma||(Ma={}));function cd(){const t=Ju(!0),e=t.run(()=>Pc({}));let n=[],s=[];const r=ho({install(i){r._a=i,i.provide(ad,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!od?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const dl=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",as=t=>dl?Symbol(t):"_vr_"+t,ld=as("rvlm"),Ra=as("rvd"),Co=as("r"),pl=as("rl"),qi=as("rvl"),Wn=typeof window!="undefined";function ud(t){return t.__esModule||dl&&t[Symbol.toStringTag]==="Module"}const be=Object.assign;function wi(t,e){const n={};for(const s in e){const r=e[s];n[s]=Array.isArray(r)?r.map(t):t(r)}return n}const Ss=()=>{},hd=/\/$/,fd=t=>t.replace(hd,"");function Ti(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("?"),c=e.indexOf("#",a>-1?a:0);return a>-1&&(s=e.slice(0,a),i=e.slice(a+1,c>-1?c:e.length),r=t(i)),c>-1&&(s=s||e.slice(0,c),o=e.slice(c,e.length)),s=gd(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function dd(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Da(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pd(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Xn(e.matched[s],n.matched[r])&&ml(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Xn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ml(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!md(t[n],e[n]))return!1;return!0}function md(t,e){return Array.isArray(t)?Pa(t,e):Array.isArray(e)?Pa(e,t):t===e}function Pa(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function gd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],!(r===1||o==="."))if(o==="..")r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var Ps;(function(t){t.pop="pop",t.push="push"})(Ps||(Ps={}));var xs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(xs||(xs={}));function _d(t){if(!t)if(Wn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fd(t)}const yd=/^[^#]+#/;function vd(t,e){return t.replace(yd,"#")+e}function wd(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const ri=()=>({left:window.pageXOffset,top:window.pageYOffset});function Td(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=wd(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Fa(t,e){return(history.state?history.state.position-e:-1)+t}const Wi=new Map;function bd(t,e){Wi.set(t,e)}function Cd(t){const e=Wi.get(t);return Wi.delete(t),e}let Ad=()=>location.protocol+"//"+location.host;function gl(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Da(c,"")}return Da(n,t)+s+r}function Sd(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const d=gl(t,location),p=n.value,_=e.value;let m=0;if(f){if(n.value=d,e.value=f,o&&o===p){o=null;return}m=_?f.position-_.position:0}else s(d);r.forEach(y=>{y(n.value,p,{delta:m,type:Ps.pop,direction:m?m>0?xs.forward:xs.back:xs.unknown})})};function c(){o=n.value}function l(f){r.push(f);const d=()=>{const p=r.indexOf(f);p>-1&&r.splice(p,1)};return i.push(d),d}function u(){const{history:f}=window;!f.state||f.replaceState(be({},f.state,{scroll:ri()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:h}}function Va(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?ri():null}}function xd(t){const{history:e,location:n}=window,s={value:gl(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:Ad()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),r.value=l}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(c,l){const u=be({},e.state,Va(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=be({},r.value,e.state,{forward:c,scroll:ri()});i(u.current,u,!0);const h=be({},Va(s.value,c,null),{position:u.position+1},l);i(c,h,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function kd(t){t=_d(t);const e=xd(t),n=Sd(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=be({location:"",base:t,go:s,createHref:vd.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Nd(t){return typeof t=="string"||t&&typeof t=="object"}function _l(t){return typeof t=="string"||typeof t=="symbol"}const Kt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yl=as("nf");var La;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(La||(La={}));function Qn(t,e){return be(new Error,{type:t,[yl]:!0},e)}function Xt(t,e){return t instanceof Error&&yl in t&&(e==null||!!(t.type&e))}const qa="[^/]+?",Ed={sensitive:!1,strict:!1,start:!0,end:!0},Od=/[.+*?^${}()[\]/\\]/g;function Id(t,e){const n=be({},Ed,e),s=[];let r=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let h=0;h<l.length;h++){const f=l[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(Od,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:_,optional:m,regexp:y}=f;i.push({name:p,repeatable:_,optional:m});const b=y||qa;if(b!==qa){d+=10;try{new RegExp(`(${b})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+I.message)}}let k=_?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(k=m&&l.length<2?`(?:/${k})`:"/"+k),m&&(k+="?"),r+=k,d+=20,m&&(d+=-8),_&&(d+=-20),b===".*"&&(d+=-50)}u.push(d)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",p=i[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function c(l){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:_,optional:m}=d,y=p in l?l[p]:"";if(Array.isArray(y)&&!_)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Array.isArray(y)?y.join("/"):y;if(!b)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=b}}return u}return{re:o,score:s,keys:i,parse:a,stringify:c}}function Md(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Rd(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=Md(s[n],r[n]);if(i)return i;n++}return r.length-s.length}const Dd={type:0,value:""},Pd=/[a-zA-Z0-9_]/;function Fd(t){if(!t)return[[]];if(t==="/")return[[Dd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${l}": ${d}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function h(){!l||(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:Pd.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),r}function Vd(t,e,n){const s=Id(Fd(t.path),n),r=be(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Ld(t,e){const n=[],s=new Map;e=Ba({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const d=!f,p=Wd(u);p.aliasOf=f&&f.record;const _=Ba(e,u),m=[p];if("alias"in u){const k=typeof u.alias=="string"?[u.alias]:u.alias;for(const I of k)m.push(be({},p,{components:f?f.record.components:p.components,path:I,aliasOf:f?f.record:p}))}let y,b;for(const k of m){const{path:I}=k;if(h&&I[0]!=="/"){const C=h.record.path,A=C[C.length-1]==="/"?"":"/";k.path=h.record.path+(I&&A+I)}if(y=Vd(k,h,_),f?f.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),d&&u.name&&!Wa(y)&&o(u.name)),"children"in p){const C=p.children;for(let A=0;A<C.length;A++)i(C[A],y,f&&f.children[A])}f=f||y,c(y)}return b?()=>{o(b)}:Ss}function o(u){if(_l(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&Rd(u,n[h])>=0&&(u.record.path!==n[h].record.path||!vl(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Wa(u)&&s.set(u.record.name,u)}function l(u,h){let f,d={},p,_;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Qn(1,{location:u});_=f.record.name,d=be(qd(h.params,f.keys.filter(b=>!b.optional).map(b=>b.name)),u.params),p=f.stringify(d)}else if("path"in u)p=u.path,f=n.find(b=>b.re.test(p)),f&&(d=f.parse(p),_=f.record.name);else{if(f=h.name?s.get(h.name):n.find(b=>b.re.test(h.path)),!f)throw Qn(1,{location:u,currentLocation:h});_=f.record.name,d=be({},h.params,u.params),p=f.stringify(d)}const m=[];let y=f;for(;y;)m.unshift(y.record),y=y.parent;return{name:_,path:p,params:d,matched:m,meta:jd(m)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function qd(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Wd(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Bd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function Bd(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function Wa(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function jd(t){return t.reduce((e,n)=>be(e,n.meta),{})}function Ba(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function vl(t,e){return e.children.some(n=>n===t||vl(t,n))}const wl=/#/g,$d=/&/g,Ud=/\//g,zd=/=/g,Hd=/\?/g,Tl=/\+/g,Gd=/%5B/g,Zd=/%5D/g,bl=/%5E/g,Yd=/%60/g,Cl=/%7B/g,Kd=/%7C/g,Al=/%7D/g,Xd=/%20/g;function Ao(t){return encodeURI(""+t).replace(Kd,"|").replace(Gd,"[").replace(Zd,"]")}function Qd(t){return Ao(t).replace(Cl,"{").replace(Al,"}").replace(bl,"^")}function Bi(t){return Ao(t).replace(Tl,"%2B").replace(Xd,"+").replace(wl,"%23").replace($d,"%26").replace(Yd,"`").replace(Cl,"{").replace(Al,"}").replace(bl,"^")}function Jd(t){return Bi(t).replace(zd,"%3D")}function ep(t){return Ao(t).replace(wl,"%23").replace(Hd,"%3F")}function tp(t){return t==null?"":ep(t).replace(Ud,"%2F")}function Or(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function np(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Tl," "),o=i.indexOf("="),a=Or(o<0?i:i.slice(0,o)),c=o<0?null:Or(i.slice(o+1));if(a in e){let l=e[a];Array.isArray(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function ja(t){let e="";for(let n in t){const s=t[n];if(n=Jd(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(s)?s.map(i=>i&&Bi(i)):[s&&Bi(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function sp(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Array.isArray(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}function _s(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function tn(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(Qn(4,{from:n,to:e})):h instanceof Error?a(h):Nd(h)?a(Qn(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(s&&s.instances[r],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function bi(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(rp(a)){const l=(a.__vccOpts||a)[e];l&&r.push(tn(l,n,s,i,o))}else{let c=a();r.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=ud(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&tn(f,n,s,i,o)()}))}}return r}function rp(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $a(t){const e=Wt(Co),n=Wt(pl),s=xt(()=>e.resolve(ws(t.to))),r=xt(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Xn.bind(null,u));if(f>-1)return f;const d=Ua(c[l-2]);return l>1&&Ua(u)===d&&h[h.length-1].path!==d?h.findIndex(Xn.bind(null,c[l-2])):f}),i=xt(()=>r.value>-1&&ap(n.params,s.value.params)),o=xt(()=>r.value>-1&&r.value===n.matched.length-1&&ml(n.params,s.value.params));function a(c={}){return op(c)?e[ws(t.replace)?"replace":"push"](ws(t.to)).catch(Ss):Promise.resolve()}return{route:s,href:xt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const ip=Ut({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$a,setup(t,{slots:e}){const n=Xs($a(t)),{options:s}=Wt(Co),r=xt(()=>({[za(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[za(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:hl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),So=ip;function op(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ap(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Array.isArray(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Ua(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const za=(t,e,n)=>t!=null?t:e!=null?e:n,cp=Ut({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const s=Wt(qi),r=xt(()=>t.route||s.value),i=Wt(Ra,0),o=xt(()=>r.value.matched[i]);Cs(Ra,i+1),Cs(ld,o),Cs(qi,r);const a=Pc();return vr(()=>[a.value,o.value,t.name],([c,l,u],[h,f,d])=>{l&&(l.instances[u]=c,f&&f!==l&&c&&c===h&&(l.leaveGuards.size||(l.leaveGuards=f.leaveGuards),l.updateGuards.size||(l.updateGuards=f.updateGuards))),c&&l&&(!f||!Xn(l,f)||!h)&&(l.enterCallbacks[u]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=r.value,l=o.value,u=l&&l.components[t.name],h=t.name;if(!u)return Ha(n.default,{Component:u,route:c});const f=l.props[t.name],d=f?f===!0?c.params:typeof f=="function"?f(c):f:null,_=hl(u,be({},d,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(l.instances[h]=null)},ref:a}));return Ha(n.default,{Component:_,route:c})||_}}});function Ha(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Sl=cp;function lp(t){const e=Ld(t.routes,t),n=t.parseQuery||np,s=t.stringifyQuery||ja,r=t.history,i=_s(),o=_s(),a=_s(),c=kh(Kt);let l=Kt;Wn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=wi.bind(null,O=>""+O),h=wi.bind(null,tp),f=wi.bind(null,Or);function d(O,j){let N,J;return _l(O)?(N=e.getRecordMatcher(O),J=j):J=O,e.addRoute(J,N)}function p(O){const j=e.getRecordMatcher(O);j&&e.removeRoute(j)}function _(){return e.getRoutes().map(O=>O.record)}function m(O){return!!e.getRecordMatcher(O)}function y(O,j){if(j=be({},j||c.value),typeof O=="string"){const re=Ti(n,O,j.path),g=e.resolve({path:re.path},j),w=r.createHref(re.fullPath);return be(re,g,{params:f(g.params),hash:Or(re.hash),redirectedFrom:void 0,href:w})}let N;if("path"in O)N=be({},O,{path:Ti(n,O.path,j.path).path});else{const re=be({},O.params);for(const g in re)re[g]==null&&delete re[g];N=be({},O,{params:h(O.params)}),j.params=h(j.params)}const J=e.resolve(N,j),ge=O.hash||"";J.params=u(f(J.params));const z=dd(s,be({},O,{hash:Qd(ge),path:J.path})),ae=r.createHref(z);return be({fullPath:z,hash:ge,query:s===ja?sp(O.query):O.query||{}},J,{redirectedFrom:void 0,href:ae})}function b(O){return typeof O=="string"?Ti(n,O,c.value.path):be({},O)}function k(O,j){if(l!==O)return Qn(8,{from:j,to:O})}function I(O){return T(O)}function C(O){return I(be(b(O),{replace:!0}))}function A(O){const j=O.matched[O.matched.length-1];if(j&&j.redirect){const{redirect:N}=j;let J=typeof N=="function"?N(O):N;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=b(J):{path:J},J.params={}),be({query:O.query,hash:O.hash,params:O.params},J)}}function T(O,j){const N=l=y(O),J=c.value,ge=O.state,z=O.force,ae=O.replace===!0,re=A(N);if(re)return T(be(b(re),{state:ge,force:z,replace:ae}),j||N);const g=N;g.redirectedFrom=j;let w;return!z&&pd(s,J,N)&&(w=Qn(16,{to:g,from:J}),se(J,J,!0,!1)),(w?Promise.resolve(w):W(g,J)).catch(v=>Xt(v)?Xt(v,2)?v:Q(v):U(v,g,J)).then(v=>{if(v){if(Xt(v,2))return T(be(b(v.to),{state:ge,force:z,replace:ae}),j||g)}else v=L(g,J,!0,ae,ge);return G(g,J,v),v})}function x(O,j){const N=k(O,j);return N?Promise.reject(N):Promise.resolve()}function W(O,j){let N;const[J,ge,z]=up(O,j);N=bi(J.reverse(),"beforeRouteLeave",O,j);for(const re of J)re.leaveGuards.forEach(g=>{N.push(tn(g,O,j))});const ae=x.bind(null,O,j);return N.push(ae),Vn(N).then(()=>{N=[];for(const re of i.list())N.push(tn(re,O,j));return N.push(ae),Vn(N)}).then(()=>{N=bi(ge,"beforeRouteUpdate",O,j);for(const re of ge)re.updateGuards.forEach(g=>{N.push(tn(g,O,j))});return N.push(ae),Vn(N)}).then(()=>{N=[];for(const re of O.matched)if(re.beforeEnter&&!j.matched.includes(re))if(Array.isArray(re.beforeEnter))for(const g of re.beforeEnter)N.push(tn(g,O,j));else N.push(tn(re.beforeEnter,O,j));return N.push(ae),Vn(N)}).then(()=>(O.matched.forEach(re=>re.enterCallbacks={}),N=bi(z,"beforeRouteEnter",O,j),N.push(ae),Vn(N))).then(()=>{N=[];for(const re of o.list())N.push(tn(re,O,j));return N.push(ae),Vn(N)}).catch(re=>Xt(re,8)?re:Promise.reject(re))}function G(O,j,N){for(const J of a.list())J(O,j,N)}function L(O,j,N,J,ge){const z=k(O,j);if(z)return z;const ae=j===Kt,re=Wn?history.state:{};N&&(J||ae?r.replace(O.fullPath,be({scroll:ae&&re&&re.scroll},ge)):r.push(O.fullPath,ge)),c.value=O,se(O,j,N,ae),Q()}let M;function Z(){M=r.listen((O,j,N)=>{const J=y(O),ge=A(J);if(ge){T(be(ge,{replace:!0}),J).catch(Ss);return}l=J;const z=c.value;Wn&&bd(Fa(z.fullPath,N.delta),ri()),W(J,z).catch(ae=>Xt(ae,12)?ae:Xt(ae,2)?(T(ae.to,J).then(re=>{Xt(re,20)&&!N.delta&&N.type===Ps.pop&&r.go(-1,!1)}).catch(Ss),Promise.reject()):(N.delta&&r.go(-N.delta,!1),U(ae,J,z))).then(ae=>{ae=ae||L(J,z,!1),ae&&(N.delta?r.go(-N.delta,!1):N.type===Ps.pop&&Xt(ae,20)&&r.go(-1,!1)),G(J,z,ae)}).catch(Ss)})}let R=_s(),Y=_s(),$;function U(O,j,N){Q(O);const J=Y.list();return J.length?J.forEach(ge=>ge(O,j,N)):console.error(O),Promise.reject(O)}function K(){return $&&c.value!==Kt?Promise.resolve():new Promise((O,j)=>{R.add([O,j])})}function Q(O){return $||($=!O,Z(),R.list().forEach(([j,N])=>O?N(O):j()),R.reset()),O}function se(O,j,N,J){const{scrollBehavior:ge}=t;if(!Wn||!ge)return Promise.resolve();const z=!N&&Cd(Fa(O.fullPath,0))||(J||!N)&&history.state&&history.state.scroll||null;return qc().then(()=>ge(O,j,z)).then(ae=>ae&&Td(ae)).catch(ae=>U(ae,O,j))}const oe=O=>r.go(O);let fe;const me=new Set;return{currentRoute:c,addRoute:d,removeRoute:p,hasRoute:m,getRoutes:_,resolve:y,options:t,push:I,replace:C,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Y.add,isReady:K,install(O){const j=this;O.component("RouterLink",So),O.component("RouterView",Sl),O.config.globalProperties.$router=j,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>ws(c)}),Wn&&!fe&&c.value===Kt&&(fe=!0,I(r.location).catch(ge=>{}));const N={};for(const ge in Kt)N[ge]=xt(()=>c.value[ge]);O.provide(Co,j),O.provide(pl,Xs(N)),O.provide(qi,c);const J=O.unmount;me.add(O),O.unmount=function(){me.delete(O),me.size<1&&(l=Kt,M&&M(),c.value=Kt,fe=!1,$=!1),J()}}}}function Vn(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function up(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>Xn(l,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>Xn(l,c))||r.push(c))}return[n,s,r]}var hp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVRoge2ZMQ7CMAxFPdE7ULhggR4PbgBlgHIW0h1sqV2CojoIYkv9X3pLIyv/KZ0SIgRBEK+pmJbpmIF5FWYY994zq9zyNfMwKJ2iHzupUjkrP3En5Um0Dsqm2GkErg6KprhoBIKDoimCRsC65BwQsAYC1kDAGghYAwFrliegXc/9/qt1CEAAAhCAQFmB0oGAdZYnEF9sbf5WbT7bqMtTM9RFQ0eykZDyp6jLWTN4oM9j80KjEZDr9d5B2ZgbZTx01M4kpPxaW36K2Mrzjvx3FjfWYdy7oS+emBAEQcrkDQv5PjoBulw+AAAAAElFTkSuQmCC";var Mn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n};const fp=Ut({components:{RouterView:Sl,RouterLink:So}}),dp={class:"navbar navbar-light bg-light"},pp={class:"container-fluid"},mp=nt("img",{src:hp,width:"30",height:"24",class:"d-inline-block align-text-top"},null,-1),gp=wo(" Piano Web "),_p=nt("footer",{class:"footer-copyright text-center"},"\xA9 2022 Jennifer Shih",-1);function yp(t,e,n,s,r,i){const o=cn("RouterLink"),a=cn("RouterView");return On(),In(lt,null,[nt("header",null,[nt("nav",dp,[nt("div",pp,[ue(o,{to:"/",class:"navbar-brand"},{default:_o(()=>[mp,gp]),_:1})])])]),nt("main",null,[ue(a)]),_p],64)}var vp=Mn(fp,[["render",yp]]);const wp=Ut({components:{RouterLink:So}}),Tp={class:"container-fluid text-center"},bp=nt("h1",null,"Piano Web",-1),Cp=nt("p",null,"\u4F7F\u7528 Vue.js\u3001Bootstrap \u505A\u51FA\u7684\u7DDA\u4E0A\u92FC\u7434\u3002",-1),Ap=nt("p",null,"\u7528\u6ED1\u9F20\u4F86\u5F48\u594F\u92FC\u7434\uFF0C\u6BCF\u500B\u7434\u9375\u6703\u5C0D\u61C9\u5230\u4E0D\u540C\u7684\u97F3\u8ABF\u3002",-1),Sp=wo("\u958B\u59CB\u5F48\u594F");function xp(t,e,n,s,r,i){const o=cn("RouterLink");return On(),In("div",Tp,[bp,Cp,Ap,ue(o,{to:"/piano",class:"btn btn-lg btn-success"},{default:_o(()=>[Sp]),_:1})])}var kp=Mn(wp,[["render",xp]]);const xl="14.7.77",Ga=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),Za=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),ji=(t,e)=>({startTime:e,type:"setValue",value:t}),kl=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),Nl=(t,e,{startTime:n,target:s,timeConstant:r})=>s+(e-s)*Math.exp((n-t)/r),$n=t=>t.type==="exponentialRampToValue",Ir=t=>t.type==="linearRampToValue",nn=t=>$n(t)||Ir(t),xo=t=>t.type==="setValue",Vt=t=>t.type==="setValueCurve",Mr=(t,e,n,s)=>{const r=t[e];return r===void 0?s:nn(r)||xo(r)?r.value:Vt(r)?r.values[r.values.length-1]:Nl(n,Mr(t,e-1,r.startTime,s),r)},Ya=(t,e,n,s,r)=>n===void 0?[s.insertTime,r]:nn(n)?[n.endTime,n.value]:xo(n)?[n.startTime,n.value]:Vt(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Mr(t,e-1,n.startTime,r)],$i=t=>t.type==="cancelAndHold",Ui=t=>t.type==="cancelScheduledValues",Qt=t=>$i(t)||Ui(t)?t.cancelTime:$n(t)||Ir(t)?t.endTime:t.startTime,Ka=(t,e,n,{endTime:s,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((t-e)/(s-e)):0,Xa=(t,e,n,{endTime:s,value:r})=>n+(t-e)/(s-e)*(r-n),Np=(t,e)=>{const n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},Ep=(t,{duration:e,startTime:n,values:s})=>{const r=(t-n)/e*(s.length-1);return Np(s,r)},pr=t=>t.type==="setTarget";class Op{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Qt(e);if($i(e)||Ui(e)){const s=this._automationEvents.findIndex(i=>Ui(e)&&Vt(i)?i.startTime+i.duration>=n:Qt(i)>=n),r=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),$i(e)){const i=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&nn(r)){if(pr(i))throw new Error("The internal list is malformed.");const o=Vt(i)?i.startTime+i.duration:Qt(i),a=Vt(i)?i.values[i.values.length-1]:i.value,c=$n(r)?Ka(n,o,a,r):Xa(n,o,a,r),l=$n(r)?Ga(c,n,this._currenTime):Za(c,n,this._currenTime);this._automationEvents.push(l)}i!==void 0&&pr(i)&&this._automationEvents.push(ji(this.getValue(n),n)),i!==void 0&&Vt(i)&&i.startTime+i.duration>n&&(this._automationEvents[this._automationEvents.length-1]=kl(new Float32Array([6,7]),i.startTime,n-i.startTime))}}else{const s=this._automationEvents.findIndex(o=>Qt(o)>n),r=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(r!==void 0&&Vt(r)&&Qt(r)+r.duration>n)return!1;const i=$n(e)?Ga(e.value,e.endTime,this._currenTime):Ir(e)?Za(e.value,n,this._currenTime):e;if(s===-1)this._automationEvents.push(i);else{if(Vt(e)&&n+e.duration>Qt(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(s=>Qt(s)>e);if(n>1){const s=this._automationEvents.slice(n-1),r=s[0];pr(r)&&s.unshift(ji(Mr(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Qt(o)>e),s=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[r];if(i!==void 0&&pr(i)&&(s===void 0||!nn(s)||s.insertTime>e))return Nl(e,Mr(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(i!==void 0&&xo(i)&&(s===void 0||!nn(s)))return i.value;if(i!==void 0&&Vt(i)&&(s===void 0||!nn(s)||i.startTime+i.duration>e))return e<i.startTime+i.duration?Ep(e,i):i.values[i.values.length-1];if(i!==void 0&&nn(i)&&(s===void 0||!nn(s)))return i.value;if(s!==void 0&&$n(s)){const[o,a]=Ya(this._automationEvents,r,i,s,this._defaultValue);return Ka(e,o,a,s)}if(s!==void 0&&Ir(s)){const[o,a]=Ya(this._automationEvents,r,i,s,this._defaultValue);return Xa(e,o,a,s)}return this._defaultValue}}const Ip=t=>({cancelTime:t,type:"cancelAndHold"}),Mp=t=>({cancelTime:t,type:"cancelScheduledValues"}),Rp=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),Dp=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Pp=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Fp=()=>new DOMException("","AbortError"),Vp=t=>(e,n,[s,r,i],o)=>{t(e[r],[n,s,i],a=>a[0]===n&&a[1]===s,o)},Lp=t=>(e,n,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},qp=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Jn=new WeakSet,El=new WeakMap,ko=new WeakMap,Ol=new WeakMap,No=new WeakMap,ii=new WeakMap,Il=new WeakMap,zi=new WeakMap,Hi=new WeakMap,Gi=new WeakMap,Ml={construct(){return Ml}},Wp=t=>{try{const e=new Proxy(t,Ml);new e}catch{return!1}return!0},Qa=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Ja=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(Qa);for(;r!==null;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(Qa)}return[n.join(";"),s]},ec=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},tc=t=>{if(!Wp(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Bp=(t,e,n,s,r,i,o,a,c,l,u,h,f)=>{let d=0;return(p,_,m={credentials:"omit"})=>{const y=u.get(p);if(y!==void 0&&y.has(_))return Promise.resolve();const b=l.get(p);if(b!==void 0){const C=b.get(_);if(C!==void 0)return C}const k=i(p),I=k.audioWorklet===void 0?r(_).then(([C,A])=>{const[T,x]=Ja(C,A),W=`${T};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${x}
})})(window,'_AWGS')`;return n(W)}).then(()=>{const C=f._AWGS.pop();if(C===void 0)throw new SyntaxError;s(k.currentTime,k.sampleRate,()=>C(class{},void 0,(A,T)=>{if(A.trim()==="")throw e();const x=Hi.get(k);if(x!==void 0){if(x.has(A))throw e();tc(T),ec(T.parameterDescriptors),x.set(A,T)}else tc(T),ec(T.parameterDescriptors),Hi.set(k,new Map([[A,T]]))},k.sampleRate,void 0,void 0))}):Promise.all([r(_),Promise.resolve(t(h,h))]).then(([[C,A],T])=>{const x=d+1;d=x;const[W,G]=Ja(C,A),R=`${W};((AudioWorkletProcessor,registerProcessor)=>{${G}
})(${T?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${T?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${T?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${x}',class extends AudioWorkletProcessor{process(){return !1}})`,Y=new Blob([R],{type:"application/javascript; charset=utf-8"}),$=URL.createObjectURL(Y);return k.audioWorklet.addModule($,m).then(()=>{if(a(k))return k;const U=o(k);return U.audioWorklet.addModule($,m).then(()=>U)}).then(U=>{if(c===null)throw new SyntaxError;try{new c(U,`__sac${x}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL($))});return b===void 0?l.set(p,new Map([[_,I]])):b.set(_,I),I.then(()=>{const C=u.get(p);C===void 0?u.set(p,new Set([_])):C.add(_)}).finally(()=>{const C=l.get(p);C!==void 0&&C.delete(_)}),I}},vt=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},oi=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[s]=n;return t.delete(s),s},Rl=(t,e,n,s)=>{const r=vt(t,e),i=oi(r,o=>o[0]===n&&o[1]===s);return r.size===0&&t.delete(e),i},Qs=t=>vt(Il,t),es=t=>{if(Jn.has(t))throw new Error("The AudioNode is already stored.");Jn.add(t),Qs(t).forEach(e=>e(!0))},Dl=t=>"port"in t,Js=t=>{if(!Jn.has(t))throw new Error("The AudioNode is not stored.");Jn.delete(t),Qs(t).forEach(e=>e(!1))},Zi=(t,e)=>{!Dl(t)&&e.every(n=>n.size===0)&&Js(t)},jp=(t,e,n,s,r,i,o,a,c,l,u,h,f)=>{const d=new WeakMap;return(p,_,m,y,b)=>{const{activeInputs:k,passiveInputs:I}=i(_),{outputs:C}=i(p),A=a(p),T=x=>{const W=c(_),G=c(p);if(x){const L=Rl(I,p,m,y);t(k,p,L,!1),!b&&!h(p)&&n(G,W,m,y),f(_)&&es(_)}else{const L=s(k,p,m,y);e(I,y,L,!1),!b&&!h(p)&&r(G,W,m,y);const M=o(_);if(M===0)u(_)&&Zi(_,k);else{const Z=d.get(_);Z!==void 0&&clearTimeout(Z),d.set(_,setTimeout(()=>{u(_)&&Zi(_,k)},M*1e3))}}};return l(C,[_,m,y],x=>x[0]===_&&x[1]===m&&x[2]===y,!0)?(A.add(T),u(p)?t(k,p,[m,y,T],!0):e(I,y,[p,m,T],!0),!0):!1}},$p=t=>(e,n,[s,r,i],o)=>{const a=e.get(s);a===void 0?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],c=>c[0]===r&&c[1]===n,o)},Up=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)},zp=t=>(e,n)=>{t(e).add(n)},Hp={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Gp=(t,e,n,s,r,i)=>class extends t{constructor(a,c){const l=r(a),u=B(B({},Hp),c),h=s(l,u),f=i(l)?e():null;super(a,!1,h,f),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Ge=(t,e)=>t.context===e,Zp=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ge(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,l)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Rr=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Mt=()=>new DOMException("","IndexSizeError"),Eo=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw s.code===12?Mt():s}})(t.getChannelData)},Yp={numberOfChannels:1},Kp=(t,e,n,s,r,i,o,a)=>{let c=null;return class Pl{constructor(u){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:f,sampleRate:d}=B(B({},Yp),u);c===null&&(c=new r(1,1,44100));const p=s!==null&&e(i,i)?new s({length:h,numberOfChannels:f,sampleRate:d}):c.createBuffer(f,h,d);if(p.numberOfChannels===0)throw n();return typeof p.copyFromChannel!="function"?(o(p),Eo(p)):e(Rr,()=>Rr(p))||a(p),t.add(p),p}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===Pl.prototype||t.has(u)}}},tt=-34028234663852886e22,Ye=-tt,Bt=t=>Jn.has(t),Xp={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Qp=(t,e,n,s,r,i,o,a)=>class extends t{constructor(l,u){const h=i(l),f=B(B({},Xp),u),d=r(h,f),p=o(h),_=p?e():null;super(l,!1,d,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=f.buffer!==null,this._nativeAudioBufferSourceNode=d,this._onended=null,this._playbackRate=n(this,p,d.playbackRate,Ye,tt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?a(this,l):null;this._nativeAudioBufferSourceNode.onended=u;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===u?l:h}get playbackRate(){return this._playbackRate}start(l=0,u=0,h){if(this._nativeAudioBufferSourceNode.start(l,u,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[l,u]:[l,u,h]),this.context.state!=="closed"){es(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),Bt(this)&&Js(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}},Jp=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const c=async(l,u)=>{let h=n(l);const f=Ge(h,u);if(!f){const d={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(u,d),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(u,h),f?await t(u,l.playbackRate,h.playbackRate):await s(u,l.playbackRate,h.playbackRate),await r(l,u,h),h};return{set start(l){o=l},set stop(l){a=l},render(l,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):c(l,u)}}},em=t=>"playbackRate"in t,tm=t=>"frequency"in t&&"gain"in t,nm=t=>"offset"in t,sm=t=>!("frequency"in t)&&"gain"in t,rm=t=>"detune"in t&&"frequency"in t,im=t=>"pan"in t,Ke=t=>vt(El,t),er=t=>vt(Ol,t),Yi=(t,e)=>{const{activeInputs:n}=Ke(t);n.forEach(r=>r.forEach(([i])=>{e.includes(t)||Yi(i,[...e,t])}));const s=em(t)?[t.playbackRate]:Dl(t)?Array.from(t.parameters.values()):tm(t)?[t.Q,t.detune,t.frequency,t.gain]:nm(t)?[t.offset]:sm(t)?[t.gain]:rm(t)?[t.detune,t.frequency]:im(t)?[t.pan]:[];for(const r of s){const i=er(r);i!==void 0&&i.activeInputs.forEach(([o])=>Yi(o,e))}Bt(t)&&Js(t)},Fl=t=>{Yi(t.destination,[])},om=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),am=(t,e,n,s,r,i,o,a,c)=>class extends t{constructor(u={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new c(u)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?n():p}if(h===null)throw s();if(!om(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&h.sampleRate!==u.sampleRate)throw n();super(h,2);const{latencyHint:f}=u,{sampleRate:d}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:f==="balanced"?512/d:f==="interactive"||f===void 0?256/d:f==="playback"?1024/d:Math.max(2,Math.min(128,Math.round(f*d/128)))*128/d,this._nativeAudioContext=h,c.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const p=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",p)};h.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Fl(this)}))}createMediaElementSource(u){return new r(this,{mediaElement:u})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(u){return new o(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,h)=>{const f=()=>{this._nativeAudioContext.removeEventListener("statechange",f),this._nativeAudioContext.state==="running"?u():this.resume().then(u,h)};this._nativeAudioContext.addEventListener("statechange",f)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}},cm=(t,e,n,s,r,i,o,a)=>class extends t{constructor(l,u){const h=i(l),f=o(h),d=r(h,u,f),p=f?e(a):null;super(l,!1,d,p),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=d}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},lm=t=>{const e=new WeakMap,n=async(s,r)=>{const i=r.destination;return e.set(r,i),await t(s,r,i),i};return{render(s,r){const i=e.get(r);return i!==void 0?Promise.resolve(i):n(s,r)}}},um=(t,e,n,s,r,i,o,a)=>(c,l)=>{const u=l.listener,h=()=>{const C=new Float32Array(1),A=e(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),T=o(l);let x=!1,W=[0,0,-1,0,1,0],G=[0,0,0];const L=()=>{if(x)return;x=!0;const Y=s(l,256,9,0);Y.onaudioprocess=({inputBuffer:$})=>{const U=[i($,C,0),i($,C,1),i($,C,2),i($,C,3),i($,C,4),i($,C,5)];U.some((Q,se)=>Q!==W[se])&&(u.setOrientation(...U),W=U);const K=[i($,C,6),i($,C,7),i($,C,8)];K.some((Q,se)=>Q!==G[se])&&(u.setPosition(...K),G=K)},A.connect(Y)},M=Y=>$=>{$!==W[Y]&&(W[Y]=$,u.setOrientation(...W))},Z=Y=>$=>{$!==G[Y]&&(G[Y]=$,u.setPosition(...G))},R=(Y,$,U)=>{const K=n(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$});K.connect(A,0,Y),K.start(),Object.defineProperty(K.offset,"defaultValue",{get(){return $}});const Q=t({context:c},T,K.offset,Ye,tt);return a(Q,"value",se=>()=>se.call(Q),se=>oe=>{try{se.call(Q,oe)}catch(fe){if(fe.code!==9)throw fe}L(),T&&U(oe)}),Q.cancelAndHoldAtTime=(se=>T?()=>{throw r()}:(...oe)=>{const fe=se.apply(Q,oe);return L(),fe})(Q.cancelAndHoldAtTime),Q.cancelScheduledValues=(se=>T?()=>{throw r()}:(...oe)=>{const fe=se.apply(Q,oe);return L(),fe})(Q.cancelScheduledValues),Q.exponentialRampToValueAtTime=(se=>T?()=>{throw r()}:(...oe)=>{const fe=se.apply(Q,oe);return L(),fe})(Q.exponentialRampToValueAtTime),Q.linearRampToValueAtTime=(se=>T?()=>{throw r()}:(...oe)=>{const fe=se.apply(Q,oe);return L(),fe})(Q.linearRampToValueAtTime),Q.setTargetAtTime=(se=>T?()=>{throw r()}:(...oe)=>{const fe=se.apply(Q,oe);return L(),fe})(Q.setTargetAtTime),Q.setValueAtTime=(se=>T?()=>{throw r()}:(...oe)=>{const fe=se.apply(Q,oe);return L(),fe})(Q.setValueAtTime),Q.setValueCurveAtTime=(se=>T?()=>{throw r()}:(...oe)=>{const fe=se.apply(Q,oe);return L(),fe})(Q.setValueCurveAtTime),Q};return{forwardX:R(0,0,M(0)),forwardY:R(1,0,M(1)),forwardZ:R(2,-1,M(2)),positionX:R(6,0,Z(0)),positionY:R(7,0,Z(1)),positionZ:R(8,0,Z(2)),upX:R(3,0,M(3)),upY:R(4,1,M(4)),upZ:R(5,0,M(5))}},{forwardX:f,forwardY:d,forwardZ:p,positionX:_,positionY:m,positionZ:y,upX:b,upY:k,upZ:I}=u.forwardX===void 0?h():u;return{get forwardX(){return f},get forwardY(){return d},get forwardZ(){return p},get positionX(){return _},get positionY(){return m},get positionZ(){return y},get upX(){return b},get upY(){return k},get upZ(){return I}}},Dr=t=>"context"in t,tr=t=>Dr(t[0]),Rn=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},nc=(t,e,[n,s],r)=>{Rn(t,[e,n,s],i=>i[0]===e&&i[1]===n,r)},sc=(t,[e,n,s],r)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,s]])):Rn(i,[n,s],o=>o[0]===n,r)},cs=t=>"inputs"in t,Pr=(t,e,n,s)=>{if(cs(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},Vl=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},hm=(t,e,n)=>oi(t,s=>s[0]===e&&s[1]===n),Ll=(t,e)=>{if(!Qs(t).delete(e))throw new Error("Missing the expected event listener.")},ql=(t,e,n)=>{const s=vt(t,e),r=oi(s,i=>i[0]===n);return s.size===0&&t.delete(e),r},Fr=(t,e,n,s)=>{cs(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},Ne=t=>vt(ko,t),Fs=t=>vt(No,t),Cn=t=>zi.has(t),Tr=t=>!Jn.has(t),rc=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const s=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(s).connect(t.destination),a.connect(r),a.disconnect(r),s.onaudioprocess=c=>{const l=c.inputBuffer.getChannelData(0);Array.prototype.some.call(l,u=>u===1)?n(!0):n(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(t.destination)},a.start()}}),Ci=(t,e)=>{const n=new Map;for(const s of t)for(const r of s){const i=n.get(r);n.set(r,i===void 0?1:i+1)}n.forEach((s,r)=>e(r,s))},Vr=t=>"context"in t,fm=t=>{const e=new Map;t.connect=(n=>(s,r=0,i=0)=>{const o=Vr(s)?n(s,r,i):n(s,r),a=e.get(s);return a===void 0?e.set(s,[{input:i,output:r}]):a.every(c=>c.input!==i||c.output!==r)&&a.push({input:i,output:r}),o})(t.connect.bind(t)),t.disconnect=(n=>(s,r,i)=>{if(n.apply(t),s===void 0)e.clear();else if(typeof s=="number")for(const[o,a]of e){const c=a.filter(l=>l.output!==s);c.length===0?e.delete(o):e.set(o,c)}else if(e.has(s))if(r===void 0)e.delete(s);else{const o=e.get(s);if(o!==void 0){const a=o.filter(c=>c.output!==r&&(c.input!==i||i===void 0));a.length===0?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(c=>{Vr(o)?t.connect(o,c.output,c.input):t.connect(o,c.output)})})(t.disconnect)},dm=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=er(e),{outputs:o}=Ke(t),a=Qs(t),c=l=>{const u=Ne(t),h=Fs(e);if(l){const f=ql(i,t,n);nc(r,t,f,!1),!s&&!Cn(t)&&u.connect(h,n)}else{const f=hm(r,t,n);sc(i,f,!1),!s&&!Cn(t)&&u.disconnect(h,n)}};return Rn(o,[e,n],l=>l[0]===e&&l[1]===n,!0)?(a.add(c),Bt(t)?nc(r,t,[n,c],!0):sc(i,[t,n,c],!0),!0):!1},pm=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Ke(e),o=Vl(r[s],t,n);return o===null?[Rl(i,t,n,s)[2],!1]:[o[2],!0]},mm=(t,e,n)=>{const{activeInputs:s,passiveInputs:r}=er(e),i=Vl(s,t,n);return i===null?[ql(r,t,n)[1],!1]:[i[2],!0]},Oo=(t,e,n,s,r)=>{const[i,o]=pm(t,n,s,r);if(i!==null&&(Ll(t,i),o&&!e&&!Cn(t)&&Fr(Ne(t),Ne(n),s,r)),Bt(n)){const{activeInputs:a}=Ke(n);Zi(n,a)}},Io=(t,e,n,s)=>{const[r,i]=mm(t,n,s);r!==null&&(Ll(t,r),i&&!e&&!Cn(t)&&Ne(t).disconnect(Fs(n),s))},gm=(t,e)=>{const n=Ke(t),s=[];for(const r of n.outputs)tr(r)?Oo(t,e,...r):Io(t,e,...r),s.push(r[0]);return n.outputs.clear(),s},_m=(t,e,n)=>{const s=Ke(t),r=[];for(const i of s.outputs)i[1]===n&&(tr(i)?Oo(t,e,...i):Io(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r},ym=(t,e,n,s,r)=>{const i=Ke(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(s===void 0||o[1]===s)&&(r===void 0||o[2]===r)).map(o=>(tr(o)?Oo(t,e,...o):Io(t,e,...o),i.outputs.delete(o),o[0]))},vm=(t,e,n,s,r,i,o,a,c,l,u,h,f,d,p,_)=>class extends l{constructor(y,b,k,I){super(k),this._context=y,this._nativeAudioNode=k;const C=u(y);h(C)&&n(rc,()=>rc(C,_))!==!0&&fm(k),ko.set(this,k),Il.set(this,new Set),y.state!=="closed"&&b&&es(this),t(this,I,k)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(y){this._nativeAudioNode.channelCount=y}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(y){this._nativeAudioNode.channelCountMode=y}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(y){this._nativeAudioNode.channelInterpretation=y}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(y,b=0,k=0){if(b<0||b>=this._nativeAudioNode.numberOfOutputs)throw r();const I=u(this._context),C=p(I);if(f(y)||d(y))throw i();if(Dr(y)){const x=Ne(y);try{const G=Pr(this._nativeAudioNode,x,b,k),L=Tr(this);(C||L)&&this._nativeAudioNode.disconnect(...G),this.context.state!=="closed"&&!L&&Tr(y)&&es(y)}catch(G){throw G.code===12?i():G}if(e(this,y,b,k,C)){const G=c([this],y);Ci(G,s(C))}return y}const A=Fs(y);if(A.name==="playbackRate"&&A.maxValue===1024)throw o();try{this._nativeAudioNode.connect(A,b),(C||Tr(this))&&this._nativeAudioNode.disconnect(A,b)}catch(x){throw x.code===12?i():x}if(dm(this,y,b,C)){const x=c([this],y);Ci(x,s(C))}}disconnect(y,b,k){let I;const C=u(this._context),A=p(C);if(y===void 0)I=gm(this,A);else if(typeof y=="number"){if(y<0||y>=this.numberOfOutputs)throw r();I=_m(this,A,y)}else{if(b!==void 0&&(b<0||b>=this.numberOfOutputs)||Dr(y)&&k!==void 0&&(k<0||k>=y.numberOfInputs))throw r();if(I=ym(this,A,y,b,k),I.length===0)throw i()}for(const T of I){const x=c([this],T);Ci(x,a)}}},wm=(t,e,n,s,r,i,o,a,c,l,u,h,f)=>(d,p,_,m=null,y=null)=>{const b=new Op(_.defaultValue),k=p?s(b):null,I={get defaultValue(){return _.defaultValue},get maxValue(){return m===null?_.maxValue:m},get minValue(){return y===null?_.minValue:y},get value(){return _.value},set value(C){_.value=C,I.setValueAtTime(C,d.context.currentTime)},cancelAndHoldAtTime(C){if(typeof _.cancelAndHoldAtTime=="function")k===null&&b.flush(d.context.currentTime),b.add(r(C)),_.cancelAndHoldAtTime(C);else{const A=Array.from(b).pop();k===null&&b.flush(d.context.currentTime),b.add(r(C));const T=Array.from(b).pop();_.cancelScheduledValues(C),A!==T&&T!==void 0&&(T.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(T.value,T.endTime):T.type==="linearRampToValue"?_.linearRampToValueAtTime(T.value,T.endTime):T.type==="setValue"?_.setValueAtTime(T.value,T.startTime):T.type==="setValueCurve"&&_.setValueCurveAtTime(T.values,T.startTime,T.duration))}return I},cancelScheduledValues(C){return k===null&&b.flush(d.context.currentTime),b.add(i(C)),_.cancelScheduledValues(C),I},exponentialRampToValueAtTime(C,A){if(C===0)throw new RangeError;if(!Number.isFinite(A)||A<0)throw new RangeError;return k===null&&b.flush(d.context.currentTime),b.add(o(C,A)),_.exponentialRampToValueAtTime(C,A),I},linearRampToValueAtTime(C,A){return k===null&&b.flush(d.context.currentTime),b.add(a(C,A)),_.linearRampToValueAtTime(C,A),I},setTargetAtTime(C,A,T){return k===null&&b.flush(d.context.currentTime),b.add(c(C,A,T)),_.setTargetAtTime(C,A,T),I},setValueAtTime(C,A){return k===null&&b.flush(d.context.currentTime),b.add(l(C,A)),_.setValueAtTime(C,A),I},setValueCurveAtTime(C,A,T){const x=C instanceof Float32Array?C:new Float32Array(C);if(h!==null&&h.name==="webkitAudioContext"){const W=A+T,G=d.context.sampleRate,L=Math.ceil(A*G),M=Math.floor(W*G),Z=M-L,R=new Float32Array(Z);for(let $=0;$<Z;$+=1){const U=(x.length-1)/T*((L+$)/G-A),K=Math.floor(U),Q=Math.ceil(U);R[$]=K===Q?x[K]:(1-(U-K))*x[K]+(1-(Q-U))*x[Q]}k===null&&b.flush(d.context.currentTime),b.add(u(R,A,T)),_.setValueCurveAtTime(R,A,T);const Y=M/G;Y<W&&f(I,R[R.length-1],Y),f(I,x[x.length-1],W)}else k===null&&b.flush(d.context.currentTime),b.add(u(x,A,T)),_.setValueCurveAtTime(x,A,T);return I}};return n.set(I,_),e.set(I,d),t(I,k),I},Tm=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:s,value:r}=n;e.exponentialRampToValueAtTime(r,s)}else if(n.type==="linearRampToValue"){const{endTime:s,value:r}=n;e.linearRampToValueAtTime(r,s)}else if(n.type==="setTarget"){const{startTime:s,target:r,timeConstant:i}=n;e.setTargetAtTime(r,s,i)}else if(n.type==="setValue"){const{startTime:s,value:r}=n;e.setValueAtTime(r,s)}else if(n.type==="setValueCurve"){const{duration:s,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,s)}else throw new Error("Can't apply an unknown automation.")}});class Wl{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,r)=>e.call(n,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const bm={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Cm=(t,e,n,s,r,i,o,a,c,l,u,h,f,d)=>class extends e{constructor(_,m,y){var b;const k=a(_),I=c(k),C=u(B(B({},bm),y));f(C);const A=Hi.get(k),T=A==null?void 0:A.get(m),x=I||k.state!=="closed"?k:(b=o(k))!==null&&b!==void 0?b:k,W=r(x,I?null:_.baseLatency,l,m,T,C),G=I?s(m,C,T):null;super(_,!0,W,G);const L=[];W.parameters.forEach((Z,R)=>{const Y=n(this,I,Z);L.push([R,Y])}),this._nativeAudioWorkletNode=W,this._onprocessorerror=null,this._parameters=new Wl(L),I&&t(k,this);const{activeInputs:M}=i(this);h(W,M)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const m=typeof _=="function"?d(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=m;const y=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=y!==null&&y===m?_:y}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Lr(t,e,n,s,r){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(e[n].byteLength===0)e[n]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const Bl=(t,e,n,s,r)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],s,r):e[n].byteLength!==0&&t.getChannelData(s).set(e[n],r)},qr=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const r=[],i=typeof e=="number"?e:e[s];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));n.push(r)}return n},Am=(t,e)=>{const n=vt(Gi,t),s=Ne(e);return vt(n,s)},Sm=async(t,e,n,s,r,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,c=s.channelCount*s.numberOfInputs,l=r.reduce((m,y)=>m+y,0),u=l===0?null:n.createBuffer(l,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=Ke(t),f=await Am(n,t),d=qr(s.numberOfInputs,s.channelCount),p=qr(s.numberOfOutputs,r),_=Array.from(t.parameters.keys()).reduce((m,y)=>ne(B({},m),{[y]:new Float32Array(128)}),{});for(let m=0;m<a;m+=128){if(s.numberOfInputs>0&&e!==null)for(let y=0;y<s.numberOfInputs;y+=1)for(let b=0;b<s.channelCount;b+=1)Lr(e,d[y],b,b,m);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:y},b)=>{Lr(e,_,y,c+b,m)});for(let y=0;y<s.numberOfInputs;y+=1)for(let b=0;b<r[y];b+=1)p[y][b].byteLength===0&&(p[y][b]=new Float32Array(128));try{const y=d.map((k,I)=>h.activeInputs[I].size===0?[]:k),b=o(m/n.sampleRate,n.sampleRate,()=>f.process(y,p,_));if(u!==null)for(let k=0,I=0;k<s.numberOfOutputs;k+=1){for(let C=0;C<r[k];C+=1)Bl(u,p[k],C,I+C,m);I+=r[k]}if(!b)break}catch(y){t.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return u},xm=(t,e,n,s,r,i,o,a,c,l,u,h,f,d,p,_)=>(m,y,b)=>{const k=new WeakMap;let I=null;const C=async(A,T)=>{let x=u(A),W=null;const G=Ge(x,T),L=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(h===null){const M=L.reduce(($,U)=>$+U,0),Z=r(T,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),R=[];for(let $=0;$<A.numberOfOutputs;$+=1)R.push(s(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:L[$]}));const Y=o(T,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});Y.connect=e.bind(null,R),Y.disconnect=c.bind(null,R),W=[Z,R,Y]}else G||(x=new h(T,m));if(k.set(T,W===null?x:W[2]),W!==null){if(I===null){if(b===void 0)throw new Error("Missing the processor constructor.");if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const U=A.channelCount*A.numberOfInputs,K=b.parameterDescriptors===void 0?0:b.parameterDescriptors.length,Q=U+K;I=Sm(A,Q===0?null:await(async()=>{const oe=new f(Q,Math.ceil(A.context.length/128)*128,T.sampleRate),fe=[],me=[];for(let j=0;j<y.numberOfInputs;j+=1)fe.push(o(oe,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),me.push(r(oe,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const je=await Promise.all(Array.from(A.parameters.values()).map(async j=>{const N=i(oe,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:j.value});return await d(oe,j,N.offset),N})),O=s(oe,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,U+K)});for(let j=0;j<y.numberOfInputs;j+=1){fe[j].connect(me[j]);for(let N=0;N<y.channelCount;N+=1)me[j].connect(O,N,j*y.channelCount+N)}for(const[j,N]of je.entries())N.connect(O,0,U+j),N.start(0);return O.connect(oe.destination),await Promise.all(fe.map(j=>p(A,oe,j))),_(oe)})(),T,y,L,b,l)}const M=await I,Z=n(T,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[R,Y,$]=W;M!==null&&(Z.buffer=M,Z.start(0)),Z.connect(R);for(let U=0,K=0;U<A.numberOfOutputs;U+=1){const Q=Y[U];for(let se=0;se<L[U];se+=1)R.connect(Q,K+se,se);K+=L[U]}return $}if(G)for(const[M,Z]of A.parameters.entries())await t(T,Z,x.parameters.get(M));else for(const[M,Z]of A.parameters.entries())await d(T,Z,x.parameters.get(M));return await p(A,T,x),x};return{render(A,T){a(T,A);const x=k.get(T);return x!==void 0?Promise.resolve(x):C(A,T)}}},km=(t,e,n,s,r,i,o,a,c,l,u,h,f,d,p,_,m,y,b,k)=>class extends p{constructor(C,A){super(C,A),this._nativeContext=C,this._audioWorklet=t===void 0?void 0:{addModule:(T,x)=>t(this,T,x)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(C,A,T){return new n({length:A,numberOfChannels:C,sampleRate:T})}createBufferSource(){return new s(this)}createChannelMerger(C=6){return new i(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new o(this,{numberOfOutputs:C})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(C=1){return new u(this,{maxDelayTime:C})}createDynamicsCompressor(){return new h(this)}createGain(){return new f(this)}createIIRFilter(C,A){return new d(this,{feedback:A,feedforward:C})}createOscillator(){return new _(this)}createPanner(){return new m(this)}createPeriodicWave(C,A,T={disableNormalization:!1}){return new y(this,ne(B({},T),{imag:A,real:C}))}createStereoPanner(){return new b(this)}createWaveShaper(){return new k(this)}decodeAudioData(C,A,T){return l(this._nativeContext,C).then(x=>(typeof A=="function"&&A(x),x),x=>{throw typeof T=="function"&&T(x),x})}},Nm={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Em=(t,e,n,s,r,i,o,a)=>class extends t{constructor(l,u){const h=i(l),f=B(B({},Nm),u),d=r(h,f),p=o(h),_=p?n():null;super(l,!1,d,_),this._Q=e(this,p,d.Q,Ye,tt),this._detune=e(this,p,d.detune,1200*Math.log2(Ye),-1200*Math.log2(Ye)),this._frequency=e(this,p,d.frequency,l.sampleRate/2,0),this._gain=e(this,p,d.gain,40*Math.log10(Ye),tt),this._nativeBiquadFilterNode=d,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,u,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,u,h)}catch(f){throw f.code===11?s():f}if(l.length!==u.length||u.length!==h.length)throw s()}},Om=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,c)=>{let l=n(a);const u=Ge(l,c);if(!u){const h={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(c,h)}return i.set(c,l),u?(await t(c,a.Q,l.Q),await t(c,a.detune,l.detune),await t(c,a.frequency,l.frequency),await t(c,a.gain,l.gain)):(await s(c,a.Q,l.Q),await s(c,a.detune,l.detune),await s(c,a.frequency,l.frequency),await s(c,a.gain,l.gain)),await r(a,c,l),l};return{render(a,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},Im=(t,e)=>(n,s)=>{const r=e.get(n);if(r!==void 0)return r;const i=t.get(n);if(i!==void 0)return i;try{const o=s();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},Mm={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Rm=(t,e,n,s,r)=>class extends t{constructor(o,a){const c=s(o),l=B(B({},Mm),a),u=n(c,l),h=r(c)?e():null;super(o,!1,u,h)}},Dm=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ge(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,l)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Pm={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Fm=(t,e,n,s,r,i)=>class extends t{constructor(a,c){const l=s(a),u=i(B(B({},Pm),c)),h=n(l,u),f=r(l)?e():null;super(a,!1,h,f)}},Vm=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ge(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,l)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Lm=t=>(e,n,s)=>t(n,e,s),qm=t=>(e,n,s=0,r=0)=>{const i=e[s];if(i===void 0)throw t();return Vr(n)?i.connect(n,0,r):i.connect(n,0)},Wm=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},Bm={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},jm=(t,e,n,s,r,i,o)=>class extends t{constructor(c,l){const u=r(c),h=B(B({},Bm),l),f=s(u,h),d=i(u),p=d?n():null;super(c,!1,f,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=f,this._offset=e(this,d,f.offset,Ye,tt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const l=typeof c=="function"?o(this,c):null;this._nativeConstantSourceNode.onended=l;const u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===l?c:u}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){es(this);const l=()=>{this._nativeConstantSourceNode.removeEventListener("ended",l),Bt(this)&&Js(this)};this._nativeConstantSourceNode.addEventListener("ended",l)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}},$m=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const c=async(l,u)=>{let h=n(l);const f=Ge(h,u);if(!f){const d={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(u,d),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(u,h),f?await t(u,l.offset,h.offset):await s(u,l.offset,h.offset),await r(l,u,h),h};return{set start(l){o=l},set stop(l){a=l},render(l,u){const h=i.get(u);return h!==void 0?Promise.resolve(h):c(l,u)}}},Um=t=>e=>(t[0]=e,t[0]),zm={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Hm=(t,e,n,s,r,i)=>class extends t{constructor(a,c){const l=s(a),u=B(B({},zm),c),h=n(l,u),d=r(l)?e():null;super(a,!1,h,d),this._isBufferNullified=!1,this._nativeConvolverNode=h,u.buffer!==null&&i(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,44100),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},Gm=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ge(a,o)){const l={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,l)}return s.set(o,a),cs(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Zm=(t,e)=>(n,s,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){throw i.name==="SyntaxError"?t():i}},Ym=()=>new DOMException("","DataCloneError"),ic=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}finally{r()}})},Km=(t,e,n,s,r,i,o,a,c,l,u)=>(h,f)=>{const d=o(h)?h:i(h);if(r.has(f)){const p=n();return Promise.reject(p)}try{r.add(f)}catch{}return e(c,()=>c(d))?d.decodeAudioData(f).then(p=>(ic(f).catch(()=>{}),e(a,()=>a(p))||u(p),t.add(p),p)):new Promise((p,_)=>{const m=async()=>{try{await ic(f)}catch{}},y=b=>{_(b),m()};try{d.decodeAudioData(f,b=>{typeof b.copyFromChannel!="function"&&(l(b),Eo(b)),t.add(b),m().then(()=>p(b))},b=>{y(b===null?s():b)})}catch(b){y(b)}})},Xm=(t,e,n,s,r,i,o,a)=>(c,l)=>{const u=e.get(c);if(u===void 0)throw new Error("Missing the expected cycle count.");const h=i(c.context),f=a(h);if(u===l){if(e.delete(c),!f&&o(c)){const d=s(c),{outputs:p}=n(c);for(const _ of p)if(tr(_)){const m=s(_[0]);t(d,m,_[1],_[2])}else{const m=r(_[0]);d.connect(m,_[1])}}}else e.set(c,u-l)},Qm={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Jm=(t,e,n,s,r,i,o)=>class extends t{constructor(c,l){const u=r(c),h=B(B({},Qm),l),f=s(u,h),d=i(u),p=d?n(h.maxDelayTime):null;super(c,!1,f,p),this._delayTime=e(this,d,f.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},eg=(t,e,n,s,r)=>i=>{const o=new WeakMap,a=async(c,l)=>{let u=n(c);const h=Ge(u,l);if(!h){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i};u=e(l,f)}return o.set(l,u),h?await t(l,c.delayTime,u.delayTime):await s(l,c.delayTime,u.delayTime),await r(c,l,u),u};return{render(c,l){const u=o.get(l);return u!==void 0?Promise.resolve(u):a(c,l)}}},tg=t=>(e,n,s,r)=>t(e[r],i=>i[0]===n&&i[1]===s),ng=t=>(e,n)=>{t(e).delete(n)},sg=t=>"delayTime"in t,rg=(t,e,n)=>function s(r,i){const o=Dr(i)?i:n(t,i);if(sg(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(c=>s([...r,o],c[0])).reduce((c,l)=>c.concat(l),[])},mr=(t,e,n)=>{const s=e[n];if(s===void 0)throw t();return s},ig=t=>(e,n=void 0,s=void 0,r=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?mr(t,e,n).disconnect():Vr(n)?s===void 0?e.forEach(i=>i.disconnect(n)):r===void 0?mr(t,e,s).disconnect(n,0):mr(t,e,s).disconnect(n,0,r):s===void 0?e.forEach(i=>i.disconnect(n)):mr(t,e,s).disconnect(n,0),og={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},ag=(t,e,n,s,r,i,o,a)=>class extends t{constructor(l,u){const h=i(l),f=B(B({},og),u),d=s(h,f),p=o(h),_=p?n():null;super(l,!1,d,_),this._attack=e(this,p,d.attack),this._knee=e(this,p,d.knee),this._nativeDynamicsCompressorNode=d,this._ratio=e(this,p,d.ratio),this._release=e(this,p,d.release),this._threshold=e(this,p,d.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(l){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=l,l>2)throw this._nativeDynamicsCompressorNode.channelCount=u,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(l){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=l,l==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},cg=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,c)=>{let l=n(a);const u=Ge(l,c);if(!u){const h={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(c,h)}return i.set(c,l),u?(await t(c,a.attack,l.attack),await t(c,a.knee,l.knee),await t(c,a.ratio,l.ratio),await t(c,a.release,l.release),await t(c,a.threshold,l.threshold)):(await s(c,a.attack,l.attack),await s(c,a.knee,l.knee),await s(c,a.ratio,l.ratio),await s(c,a.release,l.release),await s(c,a.threshold,l.threshold)),await r(a,c,l),l};return{render(a,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},lg=()=>new DOMException("","EncodingError"),ug=t=>e=>new Promise((n,s)=>{if(t===null){s(new SyntaxError);return}const r=t.document.head;if(r===null)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),c=t.onerror,l=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(u,h,f,d,p)=>{if(h===a||h===t.location.href&&f===1&&d===1)return l(),s(p),!1;if(c!==null)return c(u,h,f,d,p)},i.onerror=()=>{l(),s(new SyntaxError)},i.onload=()=>{l(),n()},i.src=a,i.type="module",r.appendChild(i)}}),hg=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,r){if(s!==null){let i=this._listeners.get(s);i===void 0&&(i=t(this,s),typeof s=="function"&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(n,i,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,r){const i=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,r)}},fg=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},dg=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},pg={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},mg=(t,e,n,s,r,i)=>class extends t{constructor(a,c){const l=r(a),u=B(B({},pg),c),h=s(l,u),f=i(l),d=f?n():null;super(a,!1,h,d),this._gain=e(this,f,h.gain,Ye,tt)}get gain(){return this._gain}},gg=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,c)=>{let l=n(a);const u=Ge(l,c);if(!u){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(c,h)}return i.set(c,l),u?await t(c,a.gain,l.gain):await s(c,a.gain,l.gain),await r(a,c,l),l};return{render(a,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},_g=(t,e)=>n=>e(t,n),yg=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},vg=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},wg=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Tg=t=>e=>t.get(e),We=()=>new DOMException("","InvalidStateError"),bg=t=>e=>{const n=t.get(e);if(n===void 0)throw We();return n},Cg=(t,e)=>n=>{let s=t.get(n);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},Ag=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},ai=()=>new DOMException("","InvalidAccessError"),Sg=t=>{t.getFrequencyResponse=(e=>(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw ai();return e.call(t,n,s,r)})(t.getFrequencyResponse)},xg={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},kg=(t,e,n,s,r,i)=>class extends t{constructor(a,c){const l=s(a),u=r(l),h=B(B({},xg),c),f=e(l,u?null:a.baseLatency,h),d=u?n(h.feedback,h.feedforward):null;super(a,!1,f,d),Sg(f),this._nativeIIRFilterNode=f,i(this,1)}getFrequencyResponse(a,c,l){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,l)}},jl=(t,e,n,s,r,i,o,a,c,l,u)=>{const h=l.length;let f=a;for(let d=0;d<h;d+=1){let p=n[0]*l[d];for(let _=1;_<r;_+=1){const m=f-_&c-1;p+=n[_]*i[m],p-=t[_]*o[m]}for(let _=r;_<s;_+=1)p+=n[_]*i[f-_&c-1];for(let _=r;_<e;_+=1)p-=t[_]*o[f-_&c-1];i[f]=l[d],o[f]=p,f=f+1&c-1,u[d]=p}return f},Ng=(t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,c=Math.min(o,a);if(r[0]!==1){for(let p=0;p<o;p+=1)i[p]/=r[0];for(let p=1;p<a;p+=1)r[p]/=r[0]}const l=32,u=new Float32Array(l),h=new Float32Array(l),f=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let p=0;p<d;p+=1){const _=t.getChannelData(p),m=f.getChannelData(p);u.fill(0),h.fill(0),jl(r,o,i,a,c,u,h,0,l,_,m)}return f},Eg=(t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let c=null;const l=async(u,h)=>{let f=null,d=e(u);const p=Ge(d,h);if(h.createIIRFilter===void 0?f=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=h.createIIRFilter(o,i)),a.set(h,f===null?d:f),f!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const m=new n(u.context.destination.channelCount,u.context.length,h.sampleRate);c=(async()=>{await s(u,m,m.destination);const y=await r(m);return Ng(y,h,i,o)})()}const _=await c;return f.buffer=_,f.start(0),f}return await s(u,h,d),d};return{render(u,h){const f=a.get(h);return f!==void 0?Promise.resolve(f):l(u,h)}}},Og=(t,e,n,s,r,i)=>o=>(a,c)=>{const l=t.get(a);if(l===void 0){if(!o&&i(a)){const u=s(a),{outputs:h}=n(a);for(const f of h)if(tr(f)){const d=s(f[0]);e(u,d,f[1],f[2])}else{const d=r(f[0]);u.disconnect(d,f[1])}}t.set(a,c)}else t.set(a,l+c)},Ig=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},Mg=(t,e)=>n=>t.has(n)||e(n),Rg=(t,e)=>n=>t.has(n)||e(n),Dg=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},Pg=t=>e=>t!==null&&e instanceof t,Fg=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,Vg=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,Lg=(t,e)=>n=>t(n)||e(n),qg=t=>e=>t!==null&&e instanceof t,Wg=t=>t!==null&&t.isSecureContext,Bg=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),c=e(a,o);if(s(a))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},jg={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},$g=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i);if(s(a))throw new TypeError;const c=B(B({},jg),o),l=e(a,c);super(i,!1,l,null),this._nativeMediaStreamAudioDestinationNode=l}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Ug=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),c=e(a,o);if(s(a))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},zg=(t,e,n)=>class extends t{constructor(r,i){const o=n(r),a=e(o,i);super(r,!0,a,null)}},Hg=(t,e,n,s,r,i)=>class extends n{constructor(a,c){super(a),this._nativeContext=a,ii.set(this,a),s(a)&&r.set(a,new Set),this._destination=new t(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const c=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=c;const l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===c?a:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Vs=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},Gg=(t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(o=>(a,c=0,l=0)=>{const u=i.size===0;if(e(a))return o.call(n,a,c,l),t(i,[a,c,l],h=>h[0]===a&&h[1]===c&&h[2]===l,!0),u&&s(),a;o.call(n,a,c),t(i,[a,c],h=>h[0]===a&&h[1]===c,!0),u&&s()})(n.connect),n.disconnect=(o=>(a,c,l)=>{const u=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const f of i)f[1]===a&&i.delete(f)}else{e(a)?o.call(n,a,c,l):o.call(n,a,c);for(const f of i)f[0]===a&&(c===void 0||f[1]===c)&&(l===void 0||f[2]===l)&&i.delete(f)}const h=i.size===0;u&&h&&r()})(n.disconnect),n},Ie=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n]&&(t[n]=s)},Le=(t,e)=>{Ie(t,e,"channelCount"),Ie(t,e,"channelCountMode"),Ie(t,e,"channelInterpretation")},oc=t=>typeof t.getFloatTimeDomainData=="function",Zg=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let r=0;r<s;r+=1)e[r]=(n[r]-128)*.0078125;return e}},Yg=(t,e)=>(n,s)=>{const r=n.createAnalyser();if(Le(r,s),!(s.maxDecibels>s.minDecibels))throw e();return Ie(r,s,"fftSize"),Ie(r,s,"maxDecibels"),Ie(r,s,"minDecibels"),Ie(r,s,"smoothingTimeConstant"),t(oc,()=>oc(r))||Zg(r),r},Kg=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Me=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n].value&&(t[n].value=s)},Xg=t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw We();e.call(t,s,r,i),n=!0}})(t.start)},Mo=t=>{t.start=(e=>(n=0,s=0,r)=>{if(typeof r=="number"&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},Ro=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},Qg=(t,e,n,s,r,i,o,a,c,l,u)=>(h,f)=>{const d=h.createBufferSource();return Le(d,f),Me(d,f,"playbackRate"),Ie(d,f,"buffer"),Ie(d,f,"loop"),Ie(d,f,"loopEnd"),Ie(d,f,"loopStart"),e(n,()=>n(h))||Xg(d),e(s,()=>s(h))||c(d),e(r,()=>r(h))||l(d,h),e(i,()=>i(h))||Mo(d),e(o,()=>o(h))||u(d,h),e(a,()=>a(h))||Ro(d),t(h,d),d},Jg=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,e_=(t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>c=>{a.call(o,c);try{i.channelCount=c}catch(l){if(c>i.maxChannelCount)throw l}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>c=>{a.call(o,c),i.channelCountMode=c}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>c=>{a.call(o,c),i.channelInterpretation=c}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},t_=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,n_=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},s_=(t,e,n,s,r)=>(i,o,a,c,l,u)=>{if(a!==null)try{const h=new a(i,c,u),f=new Map;let d=null;if(Object.defineProperties(h,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>d,set:p=>{typeof d=="function"&&h.removeEventListener("processorerror",d),d=typeof p=="function"?p:null,typeof d=="function"&&h.addEventListener("processorerror",d)}}}),h.addEventListener=(p=>(..._)=>{if(_[0]==="processorerror"){const m=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(m!==null){const y=f.get(_[1]);y!==void 0?_[1]=y:(_[1]=b=>{b.type==="error"?(Object.defineProperties(b,{type:{value:"processorerror"}}),m(b)):m(new ErrorEvent(_[0],B({},b)))},f.set(m,_[1]))}}return p.call(h,"error",_[1],_[2]),p.call(h,..._)})(h.addEventListener),h.removeEventListener=(p=>(..._)=>{if(_[0]==="processorerror"){const m=f.get(_[1]);m!==void 0&&(f.delete(_[1]),_[1]=m)}return p.call(h,"error",_[1],_[2]),p.call(h,_[0],_[1],_[2])})(h.removeEventListener),u.numberOfOutputs!==0){const p=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(p).connect(i.destination),r(h,()=>p.disconnect(),()=>p.connect(i.destination))}return h}catch(h){throw h.code===11?s():h}if(l===void 0)throw s();return n_(u),e(i,o,l,u)},$l=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),r_=t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),n(i)},r.postMessage(t)}),i_=async(t,e)=>{const n=await r_(e);return new t(n)},o_=(t,e,n,s)=>{let r=Gi.get(t);r===void 0&&(r=new WeakMap,Gi.set(t,r));const i=i_(n,s);return r.set(e,i),i},a_=(t,e,n,s,r,i,o,a,c,l,u,h,f)=>(d,p,_,m)=>{if(m.numberOfInputs===0&&m.numberOfOutputs===0)throw c();const y=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(y.some(v=>v<1))throw c();if(y.length!==m.numberOfOutputs)throw e();if(m.channelCountMode!=="explicit")throw c();const b=m.channelCount*m.numberOfInputs,k=y.reduce((v,S)=>v+S,0),I=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(b+I>6||k>6)throw c();const C=new MessageChannel,A=[],T=[];for(let v=0;v<m.numberOfInputs;v+=1)A.push(o(d,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),T.push(r(d,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));const x=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:v,maxValue:S,minValue:E,name:P}of _.parameterDescriptors){const F=i(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:m.parameterData[P]!==void 0?m.parameterData[P]:v===void 0?0:v});Object.defineProperties(F.offset,{defaultValue:{get:()=>v===void 0?0:v},maxValue:{get:()=>S===void 0?Ye:S},minValue:{get:()=>E===void 0?tt:E}}),x.push(F)}const W=s(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,b+I)}),G=$l(p,d.sampleRate),L=a(d,G,b+I,Math.max(1,k)),M=r(d,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),Z=[];for(let v=0;v<m.numberOfOutputs;v+=1)Z.push(s(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[v]}));for(let v=0;v<m.numberOfInputs;v+=1){A[v].connect(T[v]);for(let S=0;S<m.channelCount;S+=1)T[v].connect(W,S,v*m.channelCount+S)}const R=new Wl(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:v},S)=>{const E=x[S];return E.connect(W,0,b+S),E.start(0),[v,E.offset]}));W.connect(L);let Y=m.channelInterpretation,$=null;const U=m.numberOfOutputs===0?[L]:Z,K={get bufferSize(){return G},get channelCount(){return m.channelCount},set channelCount(v){throw n()},get channelCountMode(){return m.channelCountMode},set channelCountMode(v){throw n()},get channelInterpretation(){return Y},set channelInterpretation(v){for(const S of A)S.channelInterpretation=v;Y=v},get context(){return L.context},get inputs(){return A},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return $},set onprocessorerror(v){typeof $=="function"&&K.removeEventListener("processorerror",$),$=typeof v=="function"?v:null,typeof $=="function"&&K.addEventListener("processorerror",$)},get parameters(){return R},get port(){return C.port2},addEventListener(...v){return L.addEventListener(v[0],v[1],v[2])},connect:t.bind(null,U),disconnect:l.bind(null,U),dispatchEvent(...v){return L.dispatchEvent(v[0])},removeEventListener(...v){return L.removeEventListener(v[0],v[1],v[2])}},Q=new Map;C.port1.addEventListener=(v=>(...S)=>{if(S[0]==="message"){const E=typeof S[1]=="function"?S[1]:typeof S[1]=="object"&&S[1]!==null&&typeof S[1].handleEvent=="function"?S[1].handleEvent:null;if(E!==null){const P=Q.get(S[1]);P!==void 0?S[1]=P:(S[1]=F=>{u(d.currentTime,d.sampleRate,()=>E(F))},Q.set(E,S[1]))}}return v.call(C.port1,S[0],S[1],S[2])})(C.port1.addEventListener),C.port1.removeEventListener=(v=>(...S)=>{if(S[0]==="message"){const E=Q.get(S[1]);E!==void 0&&(Q.delete(S[1]),S[1]=E)}return v.call(C.port1,S[0],S[1],S[2])})(C.port1.removeEventListener);let se=null;Object.defineProperty(C.port1,"onmessage",{get:()=>se,set:v=>{typeof se=="function"&&C.port1.removeEventListener("message",se),se=typeof v=="function"?v:null,typeof se=="function"&&(C.port1.addEventListener("message",se),C.port1.start())}}),_.prototype.port=C.port1;let oe=null;o_(d,K,_,m).then(v=>oe=v);const me=qr(m.numberOfInputs,m.channelCount),je=qr(m.numberOfOutputs,y),O=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((v,{name:S})=>ne(B({},v),{[S]:new Float32Array(128)}),{});let j=!0;const N=()=>{m.numberOfOutputs>0&&L.disconnect(M);for(let v=0,S=0;v<m.numberOfOutputs;v+=1){const E=Z[v];for(let P=0;P<y[v];P+=1)M.disconnect(E,S+P,P);S+=y[v]}},J=new Map;L.onaudioprocess=({inputBuffer:v,outputBuffer:S})=>{if(oe!==null){const E=h(K);for(let P=0;P<G;P+=128){for(let F=0;F<m.numberOfInputs;F+=1)for(let D=0;D<m.channelCount;D+=1)Lr(v,me[F],D,D,P);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:F},D)=>{Lr(v,O,F,b+D,P)});for(let F=0;F<m.numberOfInputs;F+=1)for(let D=0;D<y[F];D+=1)je[F][D].byteLength===0&&(je[F][D]=new Float32Array(128));try{const F=me.map((q,V)=>{if(E[V].size>0)return J.set(V,G/128),q;const X=J.get(V);return X===void 0?[]:(q.every(te=>te.every(ie=>ie===0))&&(X===1?J.delete(V):J.set(V,X-1)),q)});j=u(d.currentTime+P/d.sampleRate,d.sampleRate,()=>oe.process(F,je,O));for(let q=0,V=0;q<m.numberOfOutputs;q+=1){for(let ee=0;ee<y[q];ee+=1)Bl(S,je[q],ee,V+ee,P);V+=y[q]}}catch(F){j=!1,K.dispatchEvent(new ErrorEvent("processorerror",{colno:F.colno,filename:F.filename,lineno:F.lineno,message:F.message}))}if(!j){for(let F=0;F<m.numberOfInputs;F+=1){A[F].disconnect(T[F]);for(let D=0;D<m.channelCount;D+=1)T[P].disconnect(W,D,F*m.channelCount+D)}if(_.parameterDescriptors!==void 0){const F=_.parameterDescriptors.length;for(let D=0;D<F;D+=1){const q=x[D];q.disconnect(W,0,b+D),q.stop()}}W.disconnect(L),L.onaudioprocess=null,ge?N():re();break}}}};let ge=!1;const z=o(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ae=()=>L.connect(z).connect(d.destination),re=()=>{L.disconnect(z),z.disconnect()},g=()=>{if(j){re(),m.numberOfOutputs>0&&L.connect(M);for(let v=0,S=0;v<m.numberOfOutputs;v+=1){const E=Z[v];for(let P=0;P<y[v];P+=1)M.connect(E,S+P,P);S+=y[v]}}ge=!0},w=()=>{j&&(ae(),N()),ge=!1};return ae(),f(K,g,w)},Ul=(t,e)=>{const n=t.createBiquadFilter();return Le(n,e),Me(n,e,"Q"),Me(n,e,"detune"),Me(n,e,"frequency"),Me(n,e,"gain"),Ie(n,e,"type"),n},c_=(t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,r),Le(r,s),r},l_=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw We()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw We()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw We()}})},nr=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Le(n,e),l_(n),n},u_=(t,e,n,s,r)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return Le(a,o),Me(a,o,"offset"),e(s,()=>s(i))||Mo(a),e(r,()=>r(i))||Ro(a),t(i,a),a},ls=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),h_=(t,e,n,s)=>(r,a)=>{var c=a,{offset:i}=c,o=ms(c,["offset"]);const l=r.createBuffer(1,2,44100),u=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=n(r,ne(B({},o),{gain:i})),f=l.getChannelData(0);f[0]=1,f[1]=1,u.buffer=l,u.loop=!0;const d={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(m){h.channelCount=m},get channelCountMode(){return h.channelCountMode},set channelCountMode(m){h.channelCountMode=m},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(m){h.channelInterpretation=m},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return u.onended},set onended(m){u.onended=m},addEventListener(...m){return u.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return u.dispatchEvent(m[0])},removeEventListener(...m){return u.removeEventListener(m[0],m[1],m[2])},start(m=0){u.start.call(u,m)},stop(m=0){u.stop.call(u,m)}},p=()=>u.connect(h),_=()=>u.disconnect(h);return t(r,u),s(ls(d,h),p,_)},f_=(t,e)=>(n,s)=>{const r=n.createConvolver();if(Le(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),Ie(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw t();return i.call(r,o)}),s.channelCountMode==="max"))throw t();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if(o==="max")throw t();return i.call(r,o)}),r},zl=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Le(n,e),Me(n,e,"delayTime"),n},d_=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(Le(s,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Me(s,n,"attack"),Me(s,n,"knee"),Me(s,n,"ratio"),Me(s,n,"release"),Me(s,n,"threshold"),s},rt=(t,e)=>{const n=t.createGain();return Le(n,e),Me(n,e,"gain"),n},p_=t=>(e,n,s)=>{if(e.createIIRFilter===void 0)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return Le(r,s),r};function m_(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function g_(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function ac(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=g_(n,e),n[0]+=t[s];return n}const __=(t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:c,feedback:l,feedforward:u})=>{const h=$l(i,r.sampleRate),f=l instanceof Float64Array?l:new Float64Array(l),d=u instanceof Float64Array?u:new Float64Array(u),p=f.length,_=d.length,m=Math.min(p,_);if(p===0||p>20)throw s();if(f[0]===0)throw e();if(_===0||_>20)throw s();if(d[0]===0)throw e();if(f[0]!==1){for(let x=0;x<_;x+=1)d[x]/=f[0];for(let x=1;x<p;x+=1)f[x]/=f[0]}const y=n(r,h,o,o);y.channelCount=o,y.channelCountMode=a,y.channelInterpretation=c;const b=32,k=[],I=[],C=[];for(let x=0;x<o;x+=1){k.push(0);const W=new Float32Array(b),G=new Float32Array(b);W.fill(0),G.fill(0),I.push(W),C.push(G)}y.onaudioprocess=x=>{const W=x.inputBuffer,G=x.outputBuffer,L=W.numberOfChannels;for(let M=0;M<L;M+=1){const Z=W.getChannelData(M),R=G.getChannelData(M);k[M]=jl(f,p,d,_,m,I[M],C[M],k[M],b,Z,R)}};const A=r.sampleRate/2;return ls({get bufferSize(){return h},get channelCount(){return y.channelCount},set channelCount(x){y.channelCount=x},get channelCountMode(){return y.channelCountMode},set channelCountMode(x){y.channelCountMode=x},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(x){y.channelInterpretation=x},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener(...x){return y.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return y.dispatchEvent(x[0])},getFrequencyResponse(x,W,G){if(x.length!==W.length||W.length!==G.length)throw t();const L=x.length;for(let M=0;M<L;M+=1){const Z=-Math.PI*(x[M]/A),R=[Math.cos(Z),Math.sin(Z)],Y=ac(d,R),$=ac(f,R),U=m_(Y,$);W[M]=Math.sqrt(U[0]*U[0]+U[1]*U[1]),G[M]=Math.atan2(U[1],U[0])}},removeEventListener(...x){return y.removeEventListener(x[0],x[1],x[2])}},y)},y_=(t,e)=>t.createMediaElementSource(e.mediaElement),v_=(t,e)=>{const n=t.createMediaStreamDestination();return Le(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},w_=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r},T_=(t,e)=>(n,{mediaStreamTrack:s})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if(s.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},b_=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,C_=(t,e,n,s,r,i)=>(o,a)=>{const c=o.createOscillator();return Le(c,a),Me(c,a,"detune"),Me(c,a,"frequency"),a.periodicWave!==void 0?c.setPeriodicWave(a.periodicWave):Ie(c,a,"type"),e(n,()=>n(o))||Mo(c),e(s,()=>s(o))||i(c,o),e(r,()=>r(o))||Ro(c),t(o,c),c},A_=t=>(e,n)=>{const s=e.createPanner();return s.orientationX===void 0?t(e,n):(Le(s,n),Me(s,n,"orientationX"),Me(s,n,"orientationY"),Me(s,n,"orientationZ"),Me(s,n,"positionX"),Me(s,n,"positionY"),Me(s,n,"positionZ"),Ie(s,n,"coneInnerAngle"),Ie(s,n,"coneOuterAngle"),Ie(s,n,"coneOuterGain"),Ie(s,n,"distanceModel"),Ie(s,n,"maxDistance"),Ie(s,n,"panningModel"),Ie(s,n,"refDistance"),Ie(s,n,"rolloffFactor"),s)},S_=(t,e,n,s,r,i,o,a,c,l)=>(u,G)=>{var L=G,{coneInnerAngle:h,coneOuterAngle:f,coneOuterGain:d,distanceModel:p,maxDistance:_,orientationX:m,orientationY:y,orientationZ:b,panningModel:k,positionX:I,positionY:C,positionZ:A,refDistance:T,rolloffFactor:x}=L,W=ms(L,["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"]);const M=u.createPanner();if(W.channelCount>2||W.channelCountMode==="max")throw o();Le(M,W);const Z={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},R=n(u,ne(B({},Z),{channelInterpretation:"speakers",numberOfInputs:6})),Y=s(u,ne(B({},W),{gain:1})),$=s(u,ne(B({},Z),{gain:1})),U=s(u,ne(B({},Z),{gain:0})),K=s(u,ne(B({},Z),{gain:0})),Q=s(u,ne(B({},Z),{gain:0})),se=s(u,ne(B({},Z),{gain:0})),oe=s(u,ne(B({},Z),{gain:0})),fe=r(u,256,6,1),me=i(u,ne(B({},Z),{curve:new Float32Array([1,1]),oversample:"none"}));let je=[m,y,b],O=[I,C,A];const j=new Float32Array(1);fe.onaudioprocess=({inputBuffer:z})=>{const ae=[c(z,j,0),c(z,j,1),c(z,j,2)];ae.some((g,w)=>g!==je[w])&&(M.setOrientation(...ae),je=ae);const re=[c(z,j,3),c(z,j,4),c(z,j,5)];re.some((g,w)=>g!==O[w])&&(M.setPosition(...re),O=re)},Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(K.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(se.gain,"defaultValue",{get:()=>0}),Object.defineProperty(oe.gain,"defaultValue",{get:()=>0});const N={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(z){if(z>2)throw o();Y.channelCount=z,M.channelCount=z},get channelCountMode(){return M.channelCountMode},set channelCountMode(z){if(z==="max")throw o();Y.channelCountMode=z,M.channelCountMode=z},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(z){Y.channelInterpretation=z,M.channelInterpretation=z},get coneInnerAngle(){return M.coneInnerAngle},set coneInnerAngle(z){M.coneInnerAngle=z},get coneOuterAngle(){return M.coneOuterAngle},set coneOuterAngle(z){M.coneOuterAngle=z},get coneOuterGain(){return M.coneOuterGain},set coneOuterGain(z){if(z<0||z>1)throw e();M.coneOuterGain=z},get context(){return M.context},get distanceModel(){return M.distanceModel},set distanceModel(z){M.distanceModel=z},get inputs(){return[Y]},get maxDistance(){return M.maxDistance},set maxDistance(z){if(z<0)throw new RangeError;M.maxDistance=z},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return U.gain},get orientationZ(){return K.gain},get panningModel(){return M.panningModel},set panningModel(z){M.panningModel=z},get positionX(){return Q.gain},get positionY(){return se.gain},get positionZ(){return oe.gain},get refDistance(){return M.refDistance},set refDistance(z){if(z<0)throw new RangeError;M.refDistance=z},get rolloffFactor(){return M.rolloffFactor},set rolloffFactor(z){if(z<0)throw new RangeError;M.rolloffFactor=z},addEventListener(...z){return Y.addEventListener(z[0],z[1],z[2])},dispatchEvent(...z){return Y.dispatchEvent(z[0])},removeEventListener(...z){return Y.removeEventListener(z[0],z[1],z[2])}};h!==N.coneInnerAngle&&(N.coneInnerAngle=h),f!==N.coneOuterAngle&&(N.coneOuterAngle=f),d!==N.coneOuterGain&&(N.coneOuterGain=d),p!==N.distanceModel&&(N.distanceModel=p),_!==N.maxDistance&&(N.maxDistance=_),m!==N.orientationX.value&&(N.orientationX.value=m),y!==N.orientationY.value&&(N.orientationY.value=y),b!==N.orientationZ.value&&(N.orientationZ.value=b),k!==N.panningModel&&(N.panningModel=k),I!==N.positionX.value&&(N.positionX.value=I),C!==N.positionY.value&&(N.positionY.value=C),A!==N.positionZ.value&&(N.positionZ.value=A),T!==N.refDistance&&(N.refDistance=T),x!==N.rolloffFactor&&(N.rolloffFactor=x),(je[0]!==1||je[1]!==0||je[2]!==0)&&M.setOrientation(...je),(O[0]!==0||O[1]!==0||O[2]!==0)&&M.setPosition(...O);const J=()=>{Y.connect(M),t(Y,me,0,0),me.connect($).connect(R,0,0),me.connect(U).connect(R,0,1),me.connect(K).connect(R,0,2),me.connect(Q).connect(R,0,3),me.connect(se).connect(R,0,4),me.connect(oe).connect(R,0,5),R.connect(fe).connect(u.destination)},ge=()=>{Y.disconnect(M),a(Y,me,0,0),me.disconnect($),$.disconnect(R),me.disconnect(U),U.disconnect(R),me.disconnect(K),K.disconnect(R),me.disconnect(Q),Q.disconnect(R),me.disconnect(se),se.disconnect(R),me.disconnect(oe),oe.disconnect(R),R.disconnect(fe),fe.disconnect(u.destination)};return l(ls(N,M),J,ge)},x_=t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a},sr=(t,e,n,s)=>t.createScriptProcessor(e,n,s),k_=(t,e)=>(n,s)=>{const r=s.channelCountMode;if(r==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,s);const i=n.createStereoPanner();return Le(i,s),Me(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i},N_=(t,e,n,s,r,i)=>{const a=new Float32Array([1,1]),c=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u=ne(B({},l),{oversample:"none"}),h=(p,_,m,y)=>{const b=new Float32Array(16385),k=new Float32Array(16385);for(let W=0;W<16385;W+=1){const G=W/16384*c;b[W]=Math.cos(G),k[W]=Math.sin(G)}const I=n(p,ne(B({},l),{gain:0})),C=s(p,ne(B({},u),{curve:b})),A=s(p,ne(B({},u),{curve:a})),T=n(p,ne(B({},l),{gain:0})),x=s(p,ne(B({},u),{curve:k}));return{connectGraph(){_.connect(I),_.connect(A.inputs===void 0?A:A.inputs[0]),_.connect(T),A.connect(m),m.connect(C.inputs===void 0?C:C.inputs[0]),m.connect(x.inputs===void 0?x:x.inputs[0]),C.connect(I.gain),x.connect(T.gain),I.connect(y,0,0),T.connect(y,0,1)},disconnectGraph(){_.disconnect(I),_.disconnect(A.inputs===void 0?A:A.inputs[0]),_.disconnect(T),A.disconnect(m),m.disconnect(C.inputs===void 0?C:C.inputs[0]),m.disconnect(x.inputs===void 0?x:x.inputs[0]),C.disconnect(I.gain),x.disconnect(T.gain),I.disconnect(y,0,0),T.disconnect(y,0,1)}}},f=(p,_,m,y)=>{const b=new Float32Array(16385),k=new Float32Array(16385),I=new Float32Array(16385),C=new Float32Array(16385),A=Math.floor(16385/2);for(let U=0;U<16385;U+=1)if(U>A){const K=(U-A)/(16384-A)*c;b[U]=Math.cos(K),k[U]=Math.sin(K),I[U]=0,C[U]=1}else{const K=U/(16384-A)*c;b[U]=1,k[U]=0,I[U]=Math.cos(K),C[U]=Math.sin(K)}const T=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),x=n(p,ne(B({},l),{gain:0})),W=s(p,ne(B({},u),{curve:b})),G=n(p,ne(B({},l),{gain:0})),L=s(p,ne(B({},u),{curve:k})),M=s(p,ne(B({},u),{curve:a})),Z=n(p,ne(B({},l),{gain:0})),R=s(p,ne(B({},u),{curve:I})),Y=n(p,ne(B({},l),{gain:0})),$=s(p,ne(B({},u),{curve:C}));return{connectGraph(){_.connect(T),_.connect(M.inputs===void 0?M:M.inputs[0]),T.connect(x,0),T.connect(G,0),T.connect(Z,1),T.connect(Y,1),M.connect(m),m.connect(W.inputs===void 0?W:W.inputs[0]),m.connect(L.inputs===void 0?L:L.inputs[0]),m.connect(R.inputs===void 0?R:R.inputs[0]),m.connect($.inputs===void 0?$:$.inputs[0]),W.connect(x.gain),L.connect(G.gain),R.connect(Z.gain),$.connect(Y.gain),x.connect(y,0,0),Z.connect(y,0,0),G.connect(y,0,1),Y.connect(y,0,1)},disconnectGraph(){_.disconnect(T),_.disconnect(M.inputs===void 0?M:M.inputs[0]),T.disconnect(x,0),T.disconnect(G,0),T.disconnect(Z,1),T.disconnect(Y,1),M.disconnect(m),m.disconnect(W.inputs===void 0?W:W.inputs[0]),m.disconnect(L.inputs===void 0?L:L.inputs[0]),m.disconnect(R.inputs===void 0?R:R.inputs[0]),m.disconnect($.inputs===void 0?$:$.inputs[0]),W.disconnect(x.gain),L.disconnect(G.gain),R.disconnect(Z.gain),$.disconnect(Y.gain),x.disconnect(y,0,0),Z.disconnect(y,0,0),G.disconnect(y,0,1),Y.disconnect(y,0,1)}}},d=(p,_,m,y,b)=>{if(_===1)return h(p,m,y,b);if(_===2)return f(p,m,y,b);throw r()};return(p,k)=>{var I=k,{channelCount:_,channelCountMode:m,pan:y}=I,b=ms(I,["channelCount","channelCountMode","pan"]);if(m==="max")throw r();const C=t(p,ne(B({},b),{channelCount:1,channelCountMode:m,numberOfInputs:2})),A=n(p,ne(B({},b),{channelCount:_,channelCountMode:m,gain:1})),T=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:y});let{connectGraph:x,disconnectGraph:W}=d(p,_,A,T,C);Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"maxValue",{get:()=>1}),Object.defineProperty(T.gain,"minValue",{get:()=>-1});const G={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(R){A.channelCount!==R&&(L&&W(),{connectGraph:x,disconnectGraph:W}=d(p,R,A,T,C),L&&x()),A.channelCount=R},get channelCountMode(){return A.channelCountMode},set channelCountMode(R){if(R==="clamped-max"||R==="max")throw r();A.channelCountMode=R},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(R){A.channelInterpretation=R},get context(){return A.context},get inputs(){return[A]},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get pan(){return T.gain},addEventListener(...R){return A.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return A.dispatchEvent(R[0])},removeEventListener(...R){return A.removeEventListener(R[0],R[1],R[2])}};let L=!1;const M=()=>{x(),L=!0},Z=()=>{W(),L=!1};return i(ls(G,C),M,Z)}},E_=(t,e,n,s,r,i,o)=>(a,c)=>{const l=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,c);Le(l,c);const u=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(u!==null&&u.length<2)throw e();Ie(l,{curve:u},"curve"),Ie(l,c,"oversample");let h=null,f=!1;return o(l,"curve",_=>()=>_.call(l),_=>m=>(_.call(l,m),f&&(s(m)&&h===null?h=t(a,l):!s(m)&&h!==null&&(h(),h=null)),m)),r(l,()=>{f=!0,s(l.curve)&&(h=t(a,l))},()=>{f=!1,h!==null&&(h(),h=null)})},O_=(t,e,n,s,r)=>(i,l)=>{var u=l,{curve:o,oversample:a}=u,c=ms(u,["curve","oversample"]);const h=i.createWaveShaper(),f=i.createWaveShaper();Le(h,c),Le(f,c);const d=n(i,ne(B({},c),{gain:1})),p=n(i,ne(B({},c),{gain:-1})),_=n(i,ne(B({},c),{gain:1})),m=n(i,ne(B({},c),{gain:-1}));let y=null,b=!1,k=null;const I={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(T){d.channelCount=T,p.channelCount=T,h.channelCount=T,_.channelCount=T,f.channelCount=T,m.channelCount=T},get channelCountMode(){return h.channelCountMode},set channelCountMode(T){d.channelCountMode=T,p.channelCountMode=T,h.channelCountMode=T,_.channelCountMode=T,f.channelCountMode=T,m.channelCountMode=T},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(T){d.channelInterpretation=T,p.channelInterpretation=T,h.channelInterpretation=T,_.channelInterpretation=T,f.channelInterpretation=T,m.channelInterpretation=T},get context(){return h.context},get curve(){return k},set curve(T){if(T!==null&&T.length<2)throw e();if(T===null)h.curve=T,f.curve=T;else{const x=T.length,W=new Float32Array(x+2-x%2),G=new Float32Array(x+2-x%2);W[0]=T[0],G[0]=-T[x-1];const L=Math.ceil((x+1)/2),M=(x+1)/2-1;for(let Z=1;Z<L;Z+=1){const R=Z/L*M,Y=Math.floor(R),$=Math.ceil(R);W[Z]=Y===$?T[Y]:(1-(R-Y))*T[Y]+(1-($-R))*T[$],G[Z]=Y===$?-T[x-1-Y]:-((1-(R-Y))*T[x-1-Y])-(1-($-R))*T[x-1-$]}W[L]=x%2===1?T[L-1]:(T[L-2]+T[L-1])/2,h.curve=W,f.curve=G}k=T,b&&(s(k)&&y===null?y=t(i,d):y!==null&&(y(),y=null))},get inputs(){return[d]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(T){h.oversample=T,f.oversample=T},addEventListener(...T){return d.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return d.dispatchEvent(T[0])},removeEventListener(...T){return d.removeEventListener(T[0],T[1],T[2])}};o!==null&&(I.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==I.oversample&&(I.oversample=a);const C=()=>{d.connect(h).connect(_),d.connect(p).connect(f).connect(m).connect(_),b=!0,s(k)&&(y=t(i,d))},A=()=>{d.disconnect(h),h.disconnect(_),d.disconnect(p),p.disconnect(f),f.disconnect(m),m.disconnect(_),b=!1,y!==null&&(y(),y=null)};return r(ls(I,_),C,A)},Je=()=>new DOMException("","NotSupportedError"),I_={numberOfChannels:1},M_=(t,e,n,s,r)=>class extends t{constructor(o,a,c){let l;if(typeof o=="number"&&a!==void 0&&c!==void 0)l={length:a,numberOfChannels:o,sampleRate:c};else if(typeof o=="object")l=o;else throw new Error("The given parameters are not valid.");const{length:u,numberOfChannels:h,sampleRate:f}=B(B({},I_),l),d=s(h,u,f);e(Vs,()=>Vs(d))||d.addEventListener("statechange",(()=>{let p=0;const _=m=>{this._state==="running"&&(p>0?(d.removeEventListener("statechange",_),m.stopImmediatePropagation(),this._waitForThePromiseToSettle(m)):p+=1)};return _})()),super(d,h),this._length=u,this._nativeOfflineAudioContext=d,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Fl(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},R_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},D_=(t,e,n,s,r,i,o)=>class extends t{constructor(c,l){const u=r(c),h=B(B({},R_),l),f=n(u,h),d=i(u),p=d?s():null,_=c.sampleRate/2;super(c,!1,f,p),this._detune=e(this,d,f.detune,153600,-153600),this._frequency=e(this,d,f.frequency,_,-_),this._nativeOscillatorNode=f,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const l=typeof c=="function"?o(this,c):null;this._nativeOscillatorNode.onended=l;const u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===l?c:u}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){es(this);const l=()=>{this._nativeOscillatorNode.removeEventListener("ended",l),Bt(this)&&Js(this)};this._nativeOscillatorNode.addEventListener("ended",l)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}},P_=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,c=null;const l=async(u,h)=>{let f=n(u);const d=Ge(f,h);if(!d){const p={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:o===null?void 0:o,type:f.type};f=e(h,p),a!==null&&f.start(a),c!==null&&f.stop(c)}return i.set(h,f),d?(await t(h,u.detune,f.detune),await t(h,u.frequency,f.frequency)):(await s(h,u.detune,f.detune),await s(h,u.frequency,f.frequency)),await r(u,h,f),f};return{set periodicWave(u){o=u},set start(u){a=u},set stop(u){c=u},render(u,h){const f=i.get(h);return f!==void 0?Promise.resolve(f):l(u,h)}}},F_={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},V_=(t,e,n,s,r,i,o)=>class extends t{constructor(c,l){const u=r(c),h=B(B({},F_),l),f=n(u,h),d=i(u),p=d?s():null;super(c,!1,f,p),this._nativePannerNode=f,this._orientationX=e(this,d,f.orientationX,Ye,tt),this._orientationY=e(this,d,f.orientationY,Ye,tt),this._orientationZ=e(this,d,f.orientationZ,Ye,tt),this._positionX=e(this,d,f.positionX,Ye,tt),this._positionY=e(this,d,f.positionY,Ye,tt),this._positionZ=e(this,d,f.positionZ,Ye,tt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}},L_=(t,e,n,s,r,i,o,a,c,l)=>()=>{const u=new WeakMap;let h=null;const f=async(d,p)=>{let _=null,m=i(d);const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},b=ne(B({},y),{coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor}),k=Ge(m,p);if("bufferSize"in m)_=s(p,ne(B({},y),{gain:1}));else if(!k){const I=ne(B({},b),{orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value});m=r(p,I)}if(u.set(p,_===null?m:_),_!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const L=new o(6,d.context.length,p.sampleRate),M=e(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});M.connect(L.destination),h=(async()=>{const Z=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map(async(R,Y)=>{const $=n(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Y===0?1:0});return await a(L,R,$.offset),$}));for(let R=0;R<6;R+=1)Z[R].connect(M,0,R),Z[R].start(0);return l(L)})()}const I=await h,C=s(p,ne(B({},y),{gain:1}));await c(d,p,C);const A=[];for(let L=0;L<I.numberOfChannels;L+=1)A.push(I.getChannelData(L));let T=[A[0][0],A[1][0],A[2][0]],x=[A[3][0],A[4][0],A[5][0]],W=s(p,ne(B({},y),{gain:1})),G=r(p,ne(B({},b),{orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:x[0],positionY:x[1],positionZ:x[2]}));C.connect(W).connect(G.inputs[0]),G.connect(_);for(let L=128;L<I.length;L+=128){const M=[A[0][L],A[1][L],A[2][L]],Z=[A[3][L],A[4][L],A[5][L]];if(M.some((R,Y)=>R!==T[Y])||Z.some((R,Y)=>R!==x[Y])){T=M,x=Z;const R=L/p.sampleRate;W.gain.setValueAtTime(0,R),W=s(p,ne(B({},y),{gain:0})),G=r(p,ne(B({},b),{orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:x[0],positionY:x[1],positionZ:x[2]})),W.gain.setValueAtTime(1,R),C.connect(W).connect(G.inputs[0]),G.connect(_)}}return _}return k?(await t(p,d.orientationX,m.orientationX),await t(p,d.orientationY,m.orientationY),await t(p,d.orientationZ,m.orientationZ),await t(p,d.positionX,m.positionX),await t(p,d.positionY,m.positionY),await t(p,d.positionZ,m.positionZ)):(await a(p,d.orientationX,m.orientationX),await a(p,d.orientationY,m.orientationY),await a(p,d.orientationZ,m.orientationZ),await a(p,d.positionX,m.positionX),await a(p,d.positionY,m.positionY),await a(p,d.positionZ,m.positionZ)),cs(m)?await c(d,p,m.inputs[0]):await c(d,p,m),m};return{render(d,p){const _=u.get(p);return _!==void 0?Promise.resolve(_):f(d,p)}}},q_={disableNormalization:!1},W_=(t,e,n,s)=>class Hl{constructor(i,o){const a=e(i),c=s(B(B({},q_),o)),l=t(a,c);return n.add(l),l}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Hl.prototype||n.has(i)}},B_=(t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)),j_=(t,e,n)=>async(s,r,i)=>{const o=t(s);await Promise.all(o.activeInputs.map((a,c)=>Array.from(a).map(async([l,u])=>{const f=await e(l).render(l,r),d=s.context.destination;!n(l)&&(s!==d||!n(s))&&f.connect(i,u,c)})).reduce((a,c)=>[...a,...c],[]))},$_=(t,e,n)=>async(s,r,i)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map(async([a,c])=>{const u=await t(a).render(a,r);n(a)||u.connect(i,c)}))},U_=(t,e,n,s)=>r=>t(Vs,()=>Vs(r))?Promise.resolve(t(s,s)).then(i=>{if(!i){const o=n(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}),z_=t=>(e,n)=>{t.set(e,n)},H_=t=>(e,n)=>t.set(e,n),G_=(t,e,n,s,r,i,o,a)=>(c,l)=>n(c).render(c,l).then(()=>Promise.all(Array.from(s(l)).map(u=>n(u).render(u,l)))).then(()=>r(l)).then(u=>(typeof u.copyFromChannel!="function"?(o(u),Eo(u)):e(i,()=>i(u))||a(u),t.add(u),u)),Z_={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Y_=(t,e,n,s,r,i)=>class extends t{constructor(a,c){const l=r(a),u=B(B({},Z_),c),h=n(l,u),f=i(l),d=f?s():null;super(a,!1,h,d),this._pan=e(this,f,h.pan)}get pan(){return this._pan}},K_=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,c)=>{let l=n(a);const u=Ge(l,c);if(!u){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(c,h)}return i.set(c,l),u?await t(c,a.pan,l.pan):await s(c,a.pan,l.pan),cs(l)?await r(a,c,l.inputs[0]):await r(a,c,l),l};return{render(a,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},X_=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Q_=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const a=new t(s,"a",{numberOfOutputs:0}),c=s.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,c.connect(a),c.start(0),await s.startRendering()}catch{}finally{URL.revokeObjectURL(r)}return i&&!o},J_=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{s.disconnect(),r(n.currentTime!==0)},n.startRendering()})},ey=()=>new DOMException("","UnknownError"),ty={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ny=(t,e,n,s,r,i,o)=>class extends t{constructor(c,l){const u=r(c),h=B(B({},ty),l),f=n(u,h),p=i(u)?s():null;super(c,!0,f,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=f,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}},sy=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ge(a,o)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,l)}return s.set(o,a),cs(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},ry=()=>typeof window=="undefined"?null:window,iy=(t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=s.length;for(let h=o<0?-o:0;h+o<c&&h<u;h+=1)s[h]=l[h+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=s.length;for(let h=o<0?-o:0;h+o<c&&h<u;h+=1)l[h+o]=s[h]}},oy=t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)},ay=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),t(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,i===null?s:i))},cy=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let c=0;c<a;c+=1)r.connect(s,0,c)},()=>r.disconnect(s))},Gl=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Zl=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},rr=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},ly=t=>ne(B({},t),{outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),uy=t=>ne(B({},t),{channelCount:t.numberOfOutputs}),hy=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?ne(B({},t),{imag:[0,0],real:[0,0]}):ne(B({},t),{imag:Array.from(n,()=>0),real:n}):n===void 0?ne(B({},t),{imag:e,real:Array.from(e,()=>0)}):ne(B({},t),{imag:e,real:n})},Yl=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(s.code!==9)throw s;Yl(t,e,n+1e-7)}},fy=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},dy=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},py=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Do=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Kl=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Po=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},my=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},gy=t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,o=i===null?s:Math.min(i.duration,s);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)},Xl=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=>()=>{r.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),ls(t,n),t.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else r.call(t,o),i=!0}})(t.stop)},us=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},_y=Vp(Rn),yy=$p(Rn),vy=tg(oi),Ql=new WeakMap,wy=vg(Ql),wt=Im(new Map,new WeakMap),Ot=ry(),Jl=Yg(wt,Mt),Fo=yg(Ke),He=j_(Ke,Fo,Cn),Ty=Zp(Jl,Ne,He),xe=bg(ii),Ht=b_(Ot),we=qg(Ht),eu=new WeakMap,tu=hg(us),ir=Jg(Ot),Vo=Pg(ir),Lo=Fg(Ot),nu=Vg(Ot),Ls=t_(Ot),Fe=vm(Lp(El),jp(_y,yy,Pr,vy,Fr,Ke,wy,Qs,Ne,Rn,Bt,Cn,Tr),wt,Og(zi,Fr,Ke,Ne,Fs,Bt),Mt,ai,Je,Xm(Pr,zi,Ke,Ne,Fs,xe,Bt,we),rg(eu,Ke,vt),tu,xe,Vo,Lo,nu,we,Ls),by=Gp(Fe,Ty,Mt,Jl,xe,we),qo=new WeakSet,cc=Kg(Ot),su=Um(new Uint32Array(1)),Wo=iy(su,Mt),Bo=oy(su),Cy=Kp(qo,wt,Je,cc,Ht,X_(cc),Wo,Bo),ci=Up(rt),ru=$_(Fo,er,Cn),Rt=Lm(ru),hs=Qg(ci,wt,fy,dy,py,Do,Kl,Po,gy,ay(rr),Xl),Dt=B_(wg(er),ru),Ay=Jp(Rt,hs,Ne,Dt,He),Tt=wm(qp(Ol),eu,No,Tm,Ip,Mp,Rp,Dp,Pp,ji,kl,ir,Yl),Sy=Qp(Fe,Ay,Tt,We,hs,xe,we,us),xy=cm(Fe,lm,Mt,We,e_(rt,rr),xe,we,He),ky=Om(Rt,Ul,Ne,Dt,He),Dn=H_(Ql),Ny=Em(Fe,Tt,ky,ai,Ul,xe,we,Dn),hn=Gg(Rn,Lo),Ey=cy(We,hn),fn=c_(ir,Ey),Oy=Dm(fn,Ne,He),Iy=Rm(Fe,Oy,fn,xe,we),My=Vm(nr,Ne,He),Ry=Fm(Fe,My,nr,xe,we,uy),Dy=h_(ci,hs,rt,hn),fs=u_(ci,wt,Dy,Do,Po),Py=$m(Rt,fs,Ne,Dt,He),Fy=jm(Fe,Tt,Py,fs,xe,we,us),iu=f_(Je,rr),Vy=Gm(iu,Ne,He),Ly=Hm(Fe,Vy,iu,xe,we,Dn),qy=eg(Rt,zl,Ne,Dt,He),Wy=Jm(Fe,Tt,qy,zl,xe,we,Dn),ou=d_(Je),By=cg(Rt,ou,Ne,Dt,He),jy=ag(Fe,Tt,By,ou,Je,xe,we,Dn),$y=gg(Rt,rt,Ne,Dt,He),Uy=mg(Fe,Tt,$y,rt,xe,we),zy=__(ai,We,sr,Je),li=U_(wt,rt,sr,J_(rt,Ht)),Hy=Eg(hs,Ne,Ht,He,li),Gy=p_(zy),Zy=kg(Fe,Gy,Hy,xe,we,Dn),Yy=um(Tt,fn,fs,sr,Je,Gl,we,rr),au=new WeakMap,Ky=Hg(xy,Yy,tu,we,au,us),cu=C_(ci,wt,Do,Kl,Po,Xl),Xy=P_(Rt,cu,Ne,Dt,He),Qy=D_(Fe,Tt,cu,Xy,xe,we,us),lu=Wm(hs),Jy=O_(lu,We,rt,Zl,hn),ui=E_(lu,We,Jy,Zl,hn,ir,rr),ev=S_(Pr,We,fn,rt,sr,ui,Je,Fr,Gl,hn),uu=A_(ev),tv=L_(Rt,fn,fs,rt,uu,Ne,Ht,Dt,He,li),nv=V_(Fe,Tt,uu,tv,xe,we,Dn),sv=x_(Mt),rv=W_(sv,xe,new WeakSet,hy),iv=N_(fn,nr,rt,ui,Je,hn),hu=k_(iv,Je),ov=K_(Rt,hu,Ne,Dt,He),av=Y_(Fe,Tt,hu,ov,xe,we),cv=sy(ui,Ne,He),lv=ny(Fe,We,ui,cv,xe,we,Dn),fu=Wg(Ot),jo=fg(Ot),du=new WeakMap,uv=Cg(du,Ht),hv=fu?Bp(wt,Je,ug(Ot),jo,dg(Fp),xe,uv,we,Ls,new WeakMap,new WeakMap,Q_(Ls,Ht),Ot):void 0,fv=Lg(Vo,we),dv=Km(qo,wt,Ym,lg,new WeakSet,xe,fv,Rr,Vs,Wo,Bo),pu=km(hv,by,Cy,Sy,Ny,Iy,Ry,Fy,Ly,dv,Wy,jy,Uy,Zy,Ky,Qy,nv,rv,av,lv),pv=Bg(Fe,y_,xe,we),mv=$g(Fe,v_,xe,we),gv=Ug(Fe,w_,xe,we),_v=T_(We,we),yv=zg(Fe,_v,xe),vv=am(pu,We,Je,ey,pv,mv,gv,yv,ir),$o=Ag(au),wv=zp($o),mu=qm(Mt),Tv=ng($o),gu=ig(Mt),_u=new WeakMap,bv=_g(_u,vt),Cv=a_(mu,Mt,We,fn,nr,fs,rt,sr,Je,gu,jo,bv,hn),Av=s_(We,Cv,rt,Je,hn),Sv=xm(Rt,mu,hs,fn,nr,fs,rt,Tv,gu,jo,Ne,Ls,Ht,Dt,He,li),xv=Tg(du),kv=z_(_u),lc=fu?Cm(wv,Fe,Tt,Sv,Av,Ke,xv,xe,we,Ls,ly,kv,my,us):void 0,Nv=Zm(Je,Ht),Ev=G_(qo,wt,Fo,$o,li,Rr,Wo,Bo),Ov=M_(pu,wt,We,Nv,Ev),Iv=Ig(ii,Vo),Mv=Mg(ko,Lo),Rv=Rg(No,nu),Dv=Dg(ii,we);function le(t,e){if(!t)throw new Error(e)}function ln(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function yu(t){!t.isOffline&&t.state!=="running"&&wu('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let vu=console;function Pv(...t){vu.log(...t)}function wu(...t){vu.warn(...t)}function ht(t){return typeof t=="undefined"}function pe(t){return!ht(t)}function Fv(t){return typeof t=="function"}function An(t){return typeof t=="number"}function Tn(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Vv(t){return typeof t=="boolean"}function yt(t){return Array.isArray(t)}function It(t){return typeof t=="string"}function gr(t){return It(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Lv(t){return new vv(t)}function qv(t,e,n){return new Ov(t,e,n)}const bn=typeof self=="object"?self:null,Wv=bn&&(bn.hasOwnProperty("AudioContext")||bn.hasOwnProperty("webkitAudioContext"));function Bv(t,e,n){return le(pe(lc),"This node only works in a secure context (https or localhost)"),new lc(t,e,n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function bt(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function Ve(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(h){o(h)}}function c(u){try{l(s.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})}class jv{constructor(e,n,s){this._callback=e,this._type=n,this._updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(e*1e3,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Sn(t){return Rv(t)}function on(t){return Mv(t)}function br(t){return Dv(t)}function Bn(t){return Iv(t)}function Tu(t){return t instanceof AudioBuffer}function $v(t,e){return t==="value"||Sn(e)||on(e)||Tu(e)}function Gn(t,...e){if(!e.length)return t;const n=e.shift();if(Tn(t)&&Tn(n))for(const s in n)$v(s,n[s])?t[s]=n[s]:Tn(n[s])?(t[s]||Object.assign(t,{[s]:{}}),Gn(t[s],n[s])):Object.assign(t,{[s]:n[s]});return Gn(t,...e)}function Uv(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}function H(t,e,n=[],s){const r={},i=Array.from(e);if(Tn(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Gn(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),i.length===1&&Tn(i[0]))Gn(r,i[0]);else for(let o=0;o<n.length;o++)pe(i[o])&&(r[n[o]]=i[o]);return Gn(t,r)}function zv(t){return t.constructor.getDefaults()}function Zn(t,e){return ht(t)?e:t}function uc(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Gt{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||bn&&this.toString()===bn.TONE_DEBUG_CLASS)&&Pv(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Gt.version=xl;const Uo=1e-6;function Wr(t,e){return t>e+Uo}function Ki(t,e){return Wr(t,e)||dt(t,e)}function bu(t,e){return t+Uo<e}function dt(t,e){return Math.abs(t-e)<Uo}function Hv(t,e,n){return Math.max(Math.min(t,n),e)}class Pt extends Gt{constructor(){super(),this.name="Timeline",this._timeline=[];const e=H(Pt.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(le(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];le(Ki(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(dt(this._timeline[n].time,e)){for(let s=n;s>=0&&dt(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Ki(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;s<i;){let o=Math.floor(s+(i-s)/2);const a=this._timeline[o],c=this._timeline[o+1];if(dt(a[n],e)){for(let l=o;l<this._timeline.length;l++){const u=this._timeline[l];if(dt(u[n],e))o=l;else break}return o}else{if(bu(a[n],e)&&Wr(c[n],e))return o;Wr(a[n],e)?i=o:s=o+1}}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return s!==-1&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let r=this._search(e),i=this._search(n);return r!==-1&&i!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===n&&(i-=1),this._iterate(s,r,i)):r===-1&&this._iterate(s,0,i),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(s!==-1&&dt(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&dt(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{n(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Cu=[];function hi(t){Cu.push(t)}function Gv(t){Cu.forEach(e=>e(t))}const Au=[];function fi(t){Au.push(t)}function Zv(t){Au.forEach(e=>e(t))}class or extends Gt{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{ht(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const s=(...r)=>{n(...r),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(ht(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(ht(n))this._events[e]=[];else{const i=this._events[e];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(or.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class Su extends or{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class ar extends Su{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Pt,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=H(ar.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=Lv({latencyHint:e.latencyHint}),this._ticker=new jv(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Gv(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return le(Bn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return le(Bn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return le(Bn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){le(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){le(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){le(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){le(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return Bv(this.rawContext,e,n)}addAudioWorkletModule(e,n){return Ve(this,void 0,void 0,function*(){le(pe(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(n)})}workletsAreReady(){return Ve(this,void 0,void 0,function*(){const e=[];this._workletModules.forEach(n=>e.push(n)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let n=0;if(this._latencyHint=e,It(e))switch(e){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25;break}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Bn(this._context)?this._context.resume():Promise.resolve()}close(){return Ve(this,void 0,void 0,function*(){Bn(this._context)&&(yield this._context.close()),this._initialized&&Zv(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+n})};return r(),s}}class Yv extends Su{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e,n){return Ve(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Re(t,e){yt(e)?e.forEach(n=>Re(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function xu(t,e){yt(e)?e.forEach(n=>xu(t,n)):Object.defineProperty(t,e,{writable:!0})}const Ce=()=>{};class Ae extends Gt{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ce;const e=H(Ae.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&Tu(e.url)||e.url instanceof Ae?this.set(e.url):It(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:Ce,onload:Ce,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:pt().sampleRate}set(e){return e instanceof Ae?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ve(this,void 0,void 0,function*(){const n=Ae.load(e).then(s=>{this.set(s),this.onload(this)});Ae.downloads.push(n);try{yield n}finally{const s=Ae.downloads.indexOf(n);Ae.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=yt(e)&&e[0].length>0,s=n?e.length:1,r=n?e[0].length:e.length,i=pt(),o=i.createBuffer(s,r,i.sampleRate),a=!n&&s===1?[e]:e;for(let c=0;c<s;c++)o.copyToChannel(a[c],c);return this._buffer=o,this}toMono(e){if(An(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const i=this.toArray(r);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(r=>r/s),this.fromArray(n)}return this}toArray(e){if(An(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let s=0;s<this.numberOfChannels;s++)n[s]=this.getChannelData(s);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){const s=Math.floor(e*this.sampleRate),r=Math.floor(n*this.sampleRate);le(s<r,"The start time must be less than the end time");const i=r-s,o=pt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(s,r),a);return new Ae(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Ae().fromArray(e)}static fromUrl(e){return Ve(this,void 0,void 0,function*(){return yield new Ae().load(e)})}static load(e){return Ve(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const a=n[1].split("|");let c=a[0];for(const l of a)if(Ae.supportsType(l)){c=l;break}e=e.replace(n[0],c)}const s=Ae.baseUrl===""||Ae.baseUrl.endsWith("/")?Ae.baseUrl:Ae.baseUrl+"/",r=yield fetch(s+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const i=yield r.arrayBuffer();return yield pt().decodeAudioData(i)})}static supportsType(e){const n=e.split("."),s=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return Ve(this,void 0,void 0,function*(){for(yield Promise.resolve();Ae.downloads.length;)yield Ae.downloads[0]})}}Ae.baseUrl="";Ae.downloads=[];class zo extends ar{constructor(){super({clockSource:"offline",context:br(arguments[0])?arguments[0]:qv(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:br(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=br(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ve(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(e=!0){return Ve(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new Ae(n)})}close(){return Promise.resolve()}}const ku=new Yv;let Yn=ku;function pt(){return Yn===ku&&Wv&&Kv(new ar),Yn}function Kv(t){Bn(t)?Yn=new ar(t):br(t)?Yn=new zo(t):Yn=t}function Nu(){return Yn.resume()}if(bn&&!bn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${xl} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function Xv(t){return Math.pow(10,t/20)}function Qv(t){return 20*(Math.log(t)/Math.LN10)}function Eu(t){return Math.pow(2,t/12)}let di=440;function Jv(){return di}function e0(t){di=t}function Xi(t){return Math.round(Ou(t))}function Ou(t){return 69+12*Math.log2(t/di)}function t0(t){return di*Math.pow(2,(t-69)/12)}class Ho extends Gt{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),r=n==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Ho&&this.fromType(this._val),ht(this._val))return this._noArg();if(It(this._val)&&ht(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Tn(this._val)){let e=0;for(const n in this._val)if(pe(this._val[n])){const s=this._val[n];e+=new this.constructor(this.context,n).valueOf()*s}return e}if(pe(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return It(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class mt extends Ho{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new mt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),a=Math.round(r/s)*s-r;return r+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let s=n[0],r=new mt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new mt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(s=i,r=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Xi(this.toFrequency())}_now(){return this.context.now()}}class ut extends mt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Jv()}static set A4(e){e0(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:ut.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,n){const r=n0[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:ut.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new ut(this.context,this.valueOf()*Eu(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Xi(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/ut.A4);let s=Math.round(12*n)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),s0[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return t0(e)}static ftom(e){return Xi(e)}}const n0={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},s0=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ks extends mt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class st extends Gt{constructor(){super();const e=H(st.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:pt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new mt(this.context,e).toSeconds()}toFrequency(e){return new ut(this.context,e).toFrequency()}toTicks(e){return new ks(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{ht(e[s])&&delete n[s]}),n}get(){const e=zv(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];pe(s)&&pe(s.value)&&pe(s.setValueAtTime)?e[n]=s.value:s instanceof st?e[n]=s._getPartialProperties(e[n]):yt(s)||An(s)||It(s)||Vv(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&pe(this[n])&&(this[n]&&pe(this[n].value)&&pe(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof st?this[n].set(e[n]):this[n]=e[n])}),this}}class Go extends Pt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,s){return ln(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){const s=this._search(n);for(let r=s;r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,n){const s=this._search(n);if(s!==-1)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class Oe extends st{constructor(){super(H(Oe.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=H(Oe.getDefaults(),arguments,["param","units","convert"]);for(le(pe(e.param)&&(Sn(e.param)||e.param instanceof Oe),"param must be an AudioParam");!Sn(e.param);)e.param=e.param._param;this._swappable=pe(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Pt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,pe(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(st.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return pe(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return pe(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return pe(this.maxValue)&&pe(this.minValue)&&ln(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?Xv(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?Qv(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),r=this._fromType(e);return le(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),r=this._events.get(n);let i=this._initialValue;if(r===null)i=this._initialValue;else if(r.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const o=this._events.getBefore(r.time);let a;o===null?a=this._initialValue:a=o.value,r.type==="setTargetAtTime"&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,n))}else if(s===null)i=r.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let o=r.value;if(r.type==="setTargetAtTime"){const a=this._events.getBefore(r.time);a===null?o=this._initialValue:o=a.value}s.type==="linearRampToValueAtTime"?i=this._linearInterpolate(r.time,o,s.time,s.value,n):i=this._exponentialInterpolate(r.time,o,s.time,s.value,n)}else i=r.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),r=this.toSeconds(n);return le(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=dt(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(n);return le(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+s*.9),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const r=this._fromType(e);le(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(r),le(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,n,s,r=1){s=this.toSeconds(s),n=this.toSeconds(n);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),n);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const c=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(c),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return le(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));le(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const r=this._events.get(n),i=this._events.getAfter(n);return r&&dt(r.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&s.type==="setTargetAtTime"){const r=this._events.getAfter(s.time),i=r?r.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){le(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,r,i){return s+(n-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,n,s,r,i){return n+(r-n)*((i-e)/(s-e))}_exponentialInterpolate(e,n,s,r,i){return n*Math.pow(r/n,(i-e)/(s-e))}}class de extends st{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return pe(this.input)?Sn(this.input)||this.input instanceof Oe?1:this.input.numberOfInputs:0}get numberOfOutputs(){return pe(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return pe(e)&&(e instanceof de||on(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();le(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return ds(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return wu("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return r0(this,e,n,s),this}chain(...e){return Qi(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),pe(this.input)&&(this.input instanceof de?this.input.dispose():on(this.input)&&this.input.disconnect()),pe(this.output)&&(this.output instanceof de?this.output.dispose():on(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Qi(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof de?n.connect(s):on(n)&&ds(n,s),s),e)}function ds(t,e,n=0,s=0){for(le(pe(t),"Cannot connect from undefined node"),le(pe(e),"Cannot connect to undefined node"),(e instanceof de||on(e))&&le(e.numberOfInputs>0,"Cannot connect to node with no inputs"),le(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof de||e instanceof Oe;)pe(e.input)&&(e=e.input);for(;t instanceof de;)pe(t.output)&&(t=t.output);Sn(e)?t.connect(e,n):t.connect(e,n,s)}function r0(t,e,n=0,s=0){if(pe(e))for(;e instanceof de;)e=e.input;for(;!on(t);)pe(t.output)&&(t=t.output);Sn(e)?t.disconnect(e,n):on(e)?t.disconnect(e,n,s):t.disconnect()}class Qe extends de{constructor(){super(H(Qe.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=H(Qe.getDefaults(),arguments,["gain","units"]);this.gain=new Oe({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Re(this,"gain")}static getDefaults(){return Object.assign(de.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ts extends de{constructor(e){super(e),this.onended=Ce,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Qe({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(de.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ce})}_startGain(e,n=1){le(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){le(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ce&&(this.onended(this),this.onended=Ce,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback!="undefined"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),le(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Br extends ts{constructor(){super(H(Br.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=H(Br.getDefaults(),arguments,["offset"]);ds(this._source,this._gainNode),this.offset=new Oe({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ts.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class qe extends de{constructor(){super(H(qe.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=H(qe.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Br({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(de.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return Zo(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,r){return this._param.setValueCurveAtTime(e,n,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Zo(t,e,n,s){(e instanceof Oe||Sn(e)||e instanceof qe&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof qe&&(e.overridden=!0)),ds(t,e,n,s)}class jr extends Oe{constructor(){super(H(jr.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Pt(1/0),this._multiplier=1;const e=H(jr.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Oe.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const c=s*a+n,l=this._exponentialApproach(i.time,i.value,r,s,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),r=this._events.get(n),i=Math.round(Math.max((n-r.time)*10,1)),o=(n-r.time)/i;for(let a=0;a<=i;a++){const c=o*a+r.time,l=this._exponentialInterpolate(r.time,r.value,n,s,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ht(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&s.type==="linearRampToValueAtTime"&&n.value!==s.value){const r=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-n.time),a=Math.sqrt(Math.pow(r,2)-2*o*(n.ticks-e)),c=(-r+a)/o,l=(-r-a)/o;return(c>0?c:l)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class $r extends qe{constructor(){super(H($r.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=H($r.getDefaults(),arguments,["value"]);this.input=this._param=new jr({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(qe.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Ur extends st{constructor(){super(H(Ur.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Go,this._tickOffset=new Pt;const e=H(Ur.getDefaults(),arguments,["frequency"]);this.frequency=new $r({context:this.context,units:e.units,value:e.frequency}),Re(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},st.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),pe(n)&&this.setTicksAtTime(n,s)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&this._state.setStateAtTime("paused",n),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),r={state:"paused",time:n};this._state.add(r);let i=s,o=0;return this._state.forEachBetween(s.time,n+this.sampleTime,a=>{let c=i.time;const l=this._tickOffset.get(a.time);l&&l.time>=i.time&&(o=l.ticks,c=l.time),i.state==="started"&&a.state!=="started"&&(o+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(c)),i=a}),this._state.remove(r),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);let r=n,i=0;return this._state.forEachBetween(n.time,e+this.sampleTime,o=>{let a=r.time;const c=this._tickOffset.get(o.time);c&&c.time>=r.time&&(i=c.seconds,a=c.time),r.state==="started"&&o.state!=="started"&&(i+=o.time-a),r=o}),this._state.remove(s),i}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),r=this._state.get(n),i=Math.max(s.time,r.time),o=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,s){let r=this._state.get(e);this._state.forEachBetween(e,n,o=>{r&&r.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,s),r=o});let i=null;if(r&&r.state==="started"){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),c=this.frequency.getTicksAtTime(r.time),l=a-c;let u=Math.ceil(l)-l;u=dt(u,1)?0:u;let h=this.frequency.getTimeOfTick(a+u);for(;h<n;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(f){i=f;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class qs extends st{constructor(){super(H(qs.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Ce,this._lastUpdate=0,this._state=new Go("stopped"),this._boundLoop=this._loop.bind(this);const e=H(qs.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Ur({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Re(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(st.getDefaults(),{callback:Ce,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){yu(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,n,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}or.mixin(qs);class Yo extends Gt{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=H(Yo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const s=e.urls[n];this.add(n,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Ce,onload:Ce,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return le(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=Ce,r=Ce){return It(n)?this._buffers.set(e.toString(),new Ae(this.baseUrl+n,s,r)):this._buffers.set(e.toString(),new Ae(n,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class qt extends ks{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class i0 extends st{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Pt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}hi(t=>{t.draw=new i0({context:t})});fi(t=>{t.draw.dispose()});class o0 extends Gt{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){le(pe(e.time),"Events must have a time property"),le(pe(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new a0(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let s,r=null;if(n>0)if(e.left.right===null)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let r=1;r<n.length;r++)n[r].low>s.low&&(s=n[r]);return s.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class a0{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class xn extends de{constructor(){super(H(xn.getDefaults(),arguments,["volume"])),this.name="Volume";const e=H(xn.getDefaults(),arguments,["volume"]);this.input=this.output=new Qe({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Re(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(de.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class zr extends de{constructor(){super(H(zr.getDefaults(),arguments)),this.name="Destination",this.input=new xn({context:this.context}),this.output=new Qe({context:this.context}),this.volume=this.input.volume;const e=H(zr.getDefaults(),arguments);Qi(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(de.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Qi(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}hi(t=>{t.destination=new zr({context:t})});fi(t=>{t.destination.dispose()});class c0 extends Gt{constructor(e){super(),this.name="TimelineValue",this._timeline=new Pt({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class un{constructor(e,n){this.id=un._eventId++;const s=Object.assign(un.getDefaults(),n);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=s.time}static getDefaults(){return{callback:Ce,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}un._eventId=0;class Ko extends un{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(Ko.getDefaults(),n);this.duration=new qt(e.context,s.duration).valueOf(),this._interval=new qt(e.context,s.interval).valueOf(),this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},un.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const n=this.transport.getTicksAtTime(e);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new qt(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const n=this.transport.getTicksAtTime(e);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new qt(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new qt(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Ws extends st{constructor(){super(H(Ws.getDefaults(),arguments)),this.name="Transport",this._loop=new c0(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Pt,this._repeatedEvents=new o0,this._syncedSignals=[],this._swingAmount=0;const e=H(Ws.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new qs({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Re(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(st.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const s=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(s*Math.PI)*this._swingAmount;e+=new qt(this.context,this._swingTicks*2/3).toSeconds()*r}this._timeline.forEachAtTime(n,s=>s.invoke(e))}schedule(e,n){const s=new un(this,{callback:e,time:new ks(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,r=1/0){const i=new Ko(this,{callback:e,duration:new mt(this.context,r).toTicks(),interval:new mt(this.context,n).toTicks(),time:new ks(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const s=new un(this,{callback:e,once:!0,time:new ks(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new qt(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){let s;return pe(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){yt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new mt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new mt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new qt(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new qt(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n),i=n+r;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),s=this.getTicksAtTime(n),r=e-s%e;return this._clock.nextTickTime(r,n)}}syncSignal(e,n){if(!n){const r=this.now();if(e.getValueAtTime(r)!==0){const i=this.bpm.getValueAtTime(r),o=1/(60/i/this.PPQ);n=e.getValueAtTime(r)/o}else n=0}const s=new Qe(n);return this.bpm.connect(s),s.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:s,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.ratio.dispose(),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),xu(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}or.mixin(Ws);hi(t=>{t.transport=new Ws({context:t})});fi(t=>{t.transport.dispose()});class ct extends de{constructor(e){super(e),this.input=void 0,this._state=new Go("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ce,this._syncedStop=Ce,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new xn({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Re(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(de.getDefaults(),{mute:!1,onstop:Ce,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let r=ht(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")le(Wr(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,s);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(Zn(n,0)),i.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,s)},r);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else yu(this.context),this._start(r,n,s);return this}stop(e){let n=ht(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||pe(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(n>0){const s=this._state.get(n);if(s&&s.state==="started"&&s.time!==n){const r=n-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ce,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Bs extends ts{constructor(){super(H(Bs.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=H(Bs.getDefaults(),arguments,["url","onload"]);ds(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Oe({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Ae(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ts.getDefaults(),{url:new Ae,loop:!1,loopEnd:0,loopStart:0,onload:Ce,onerror:Ce,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,r=1){le(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),this.loop?n=Zn(n,this.loopStart):n=Zn(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),l=a-c;Ki(o,a)&&(o=(o-c)%l+c),dt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,bu(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),pe(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Pn(t,e){return Ve(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new zo(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class Hr extends ts{constructor(){super(H(Hr.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=H(Hr.getDefaults(),arguments,["frequency","type"]);ds(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Oe({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Oe({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Re(this,["frequency","detune"])}static getDefaults(){return Object.assign(ts.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Pe extends ct{constructor(){super(H(Pe.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=H(Pe.getDefaults(),arguments,["frequency","type"]);this.frequency=new qe({context:this.context,units:"frequency",value:e.frequency}),Re(this,"frequency"),this.detune=new qe({context:this.context,units:"cents",value:e.detune}),Re(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(ct.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),s=new Hr({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Pe._periodicWaveCache.find(n=>n.phase===this._phase&&Uv(n.partials,this._partials));{const e=Pe._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(pe(s)){const{partials:r,wave:i}=s;this._wave=i,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(r,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Pe._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),Pe._periodicWaveCache.length>100&&Pe._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){ln(e,0);let n=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(n=s[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const r=new Float32Array(e);this._partials.forEach((i,o)=>r[o]=i),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,n){let r=2048;const i=new Float32Array(r),o=new Float32Array(r);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,r=a,this._partials.length===0)return[i,o]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);c?(a=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),e=c[1],a=Math.max(a,2),r=a):this._partialCount=0,this._partials=[]}for(let c=1;c<r;++c){const l=2/(c*Math.PI);let u;switch(e){case"sine":u=c<=a?1:0,this._partials[c-1]=u;break;case"square":u=c&1?2*l:0,this._partials[c-1]=u;break;case"sawtooth":u=l*(c&1?1:-1),this._partials[c-1]=u;break;case"triangle":c&1?u=2*(l*l)*(c-1>>1&1?-1:1):u=0,this._partials[c-1]=u;break;case"custom":u=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}u!==0?(i[c]=-u*Math.sin(n*c),o[c]=u*Math.cos(n*c)):(i[c]=0,o[c]=0)}return[i,o]}_inverseFFT(e,n,s){let r=0;const i=e.length;for(let o=0;o<i;o++)r+=e[o]*Math.cos(o*s)+n[o]*Math.sin(o*s);return r}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let s=0;const r=Math.PI*2,i=32;for(let o=0;o<i;o++)s=Math.max(this._inverseFFT(e,n,o/i*r),s);return Hv(-this._inverseFFT(e,n,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return Ve(this,void 0,void 0,function*(){return Pn(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Pe._periodicWaveCache=[];class pi extends de{constructor(){super(Object.assign(H(pi.getDefaults(),arguments,["context"])))}connect(e,n=0,s=0){return Zo(this,e,n,s),this}}class js extends pi{constructor(){super(Object.assign(H(js.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=H(js.getDefaults(),arguments,["mapping","length"]);yt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Fv(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(qe.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let r=0,i=n;r<i;r++){const o=r/(i-1)*2-1;s[r]=e(o,r)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(s=>s.includes(e));le(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class l0 extends pi{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new js({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class kn extends qe{constructor(){super(Object.assign(H(kn.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=H(kn.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Qe({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(qe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class $s extends ct{constructor(){super(H($s.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new l0({context:this.context}),this._modulationNode=new Qe({context:this.context});const e=H($s.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Pe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Pe({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new kn({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Re(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Pe.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Ve(this,void 0,void 0,function*(){return Pn(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Us extends ct{constructor(){super(H(Us.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Qe({context:this.context,gain:0});const e=H(Us.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Pe({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new qe({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Pe({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new kn({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new kn({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Re(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Pe.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Ve(this,void 0,void 0,function*(){return Pn(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ns extends ct{constructor(){super(H(ns.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Qe({context:this.context,gain:0}),this._thresh=new js({context:this.context,mapping:n=>n<=0?-1:1});const e=H(ns.getDefaults(),arguments,["frequency","width"]);this.width=new qe({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Pe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Re(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ct.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Ve(this,void 0,void 0,function*(){return Pn(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class zs extends ct{constructor(){super(H(zs.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=H(zs.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new qe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new qe({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Re(this,["frequency","detune"])}static getDefaults(){return Object.assign(Pe.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=n+s*i)}}get count(){return this._oscillators.length}set count(e){if(ln(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new Pe({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Ce});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return Ve(this,void 0,void 0,function*(){return Pn(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Hs extends ct{constructor(){super(H(Hs.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new kn({context:this.context,value:2});const e=H(Hs.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new ns({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Pe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Re(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ct.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Ve(this,void 0,void 0,function*(){return Pn(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const hc={am:$s,fat:zs,fm:Us,oscillator:Pe,pulse:ns,pwm:Hs};class Gs extends ct{constructor(){super(H(Gs.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=H(Gs.getDefaults(),arguments,["frequency","type"]);this.frequency=new qe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new qe({context:this.context,units:"cents",value:e.detune}),Re(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Pe.getDefaults(),Us.getDefaults(),$s.getDefaults(),zs.getDefaults(),ns.getDefaults(),Hs.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=hc[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof hc[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&An(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&An(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&It(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return Ve(this,void 0,void 0,function*(){return Pn(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function Iu(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){ln(i,t,e),n.set(this,i)}})}}function Zt(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){ln(this.toSeconds(i),t,e),n.set(this,i)}})}}class Zs extends ct{constructor(){super(H(Zs.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=H(Zs.getDefaults(),arguments,["url","onload"]);this._buffer=new Ae({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ct.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ce,onerror:Ce,playbackRate:1,reverse:!1})}load(e){return Ve(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Ce){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){this._loop?n=Zn(n,this._loopStart):n=Zn(n,0);const r=this.toSeconds(n),i=s;s=Zn(s,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(s);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Bs({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&ht(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){this._stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="started"){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ln(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ln(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}bt([Zt(0)],Zs.prototype,"fadeIn",void 0);bt([Zt(0)],Zs.prototype,"fadeOut",void 0);class $t extends de{constructor(){super(H($t.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new qe({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=H($t.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(de.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(It(e))return e;{let s;for(s in _r)if(_r[s][n]===e)return s;return e}}_setCurve(e,n,s){if(It(s)&&Reflect.has(_r,s)){const r=_r[s];Tn(r)?e!=="_decayCurve"&&(this[e]=r[n]):this[e]=r}else if(yt(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){le(["linear","exponential"].some(n=>n===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/r;r=(1-o)/a}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=o&&o<=a[c]){a=this._attackCurve.slice(c),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,n)}if(i&&this.sustain<1){const a=n*this.sustain,c=e+r;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+c):this._sig.exponentialApproachValueAtTime(a,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(le(yt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return Zo(this,e,n,s),this}asArray(e=1024){return Ve(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,s=new zo(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=i*.1,a=i+o,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:s}));return c._sig.toDestination(),c.triggerAttackRelease(n*(r+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}bt([Zt(0)],$t.prototype,"attack",void 0);bt([Zt(0)],$t.prototype,"decay",void 0);bt([Iu(0,1)],$t.prototype,"sustain",void 0);bt([Zt(0)],$t.prototype,"release",void 0);const _r=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/(128-1)*(Math.PI/2));const r=[],i=6.4;for(e=0;e<128-1;e++){n=e/(128-1);const f=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;r[e]=f/10+n*.83}r[128-1]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/(128-1)*a)/a;const c=[];for(e=0;e<128;e++)n=e/(128-1),c[e]=.5*(1-Math.cos(Math.PI*n));const l=[];for(e=0;e<128;e++){n=e/(128-1);const f=Math.pow(n,3)*4+.2,d=Math.cos(f*Math.PI*2*n);l[e]=Math.abs(d*(1-n))}function u(f){const d=new Array(f.length);for(let p=0;p<f.length;p++)d[p]=1-f[p];return d}function h(f){return f.slice(0).reverse()}return{bounce:{In:u(l),Out:l},cosine:{In:s,Out:h(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:u(r)},sine:{In:c,Out:u(c)},step:{In:o,Out:u(o)}}})();class Nn extends de{constructor(){super(H(Nn.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=H(Nn.getDefaults(),arguments);this._volume=this.output=new xn({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Re(this,"volume")}static getDefaults(){return Object.assign(de.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const i=r[n],o=this.context.transport.schedule(a=>{r[n]=a,s.apply(this,r)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s),o=this.toSeconds(n);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class En extends Nn{constructor(){super(H(En.getDefaults(),arguments));const e=H(En.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Nn.getDefaults(),{detune:0,onsilence:Ce,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),r=e instanceof ut?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}bt([Zt(0)],En.prototype,"portamento",void 0);class Xo extends $t{constructor(){super(H(Xo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Qe({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ss extends En{constructor(){super(H(ss.getDefaults(),arguments)),this.name="Synth";const e=H(ss.getDefaults(),arguments);this.oscillator=new Gs(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Xo(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Re(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(En.getDefaults(),{envelope:Object.assign(uc($t.getDefaults(),Object.keys(de.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(uc(Gs.getDefaults(),[...Object.keys(ct.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ys extends ss{constructor(){super(H(Ys.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=H(Ys.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Re(this,["oscillator","envelope"])}static getDefaults(){return Gn(En.getDefaults(),ss.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),r=this.toFrequency(e instanceof ut?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}bt([Iu(0)],Ys.prototype,"octaves",void 0);bt([Zt(0)],Ys.prototype,"pitchDecay",void 0);const Mu=new Set;function Qo(t){Mu.add(t)}function Ru(t,e){const n=`registerProcessor("${t}", ${e})`;Mu.add(n)}const u0=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Qo(u0);const h0=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Qo(h0);const f0=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Qo(f0);const d0="feedback-comb-filter",p0=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Ru(d0,p0);class Ks extends Nn{constructor(){super(H(Ks.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=H(Ks.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(le(gr(s)||An(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),gr(s)){const i=new ut(this.context,s).toMidi();n[i]=e.urls[s]}else An(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new Yo({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Nn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ce,onerror:Ce,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=Ou(new ut(this.context,r).toFrequency()),o=Math.round(i),a=i-o,c=this._findClosest(o),l=o-c,u=this._buffers.get(l),h=Eu(c+a),f=new Bs({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);f.start(n,0,u.duration/h,s),yt(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(f),f.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const d=this._activeSources.get(o),p=d.indexOf(f);p!==-1&&d.splice(p,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new ut(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),yt(n)?(le(yt(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const c=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,s){if(le(gr(e)||isFinite(e),`note must be a pitch or midi: ${e}`),gr(e)){const r=new ut(this.context,e).toMidi();this._buffers.add(r,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}bt([Zt(0)],Ks.prototype,"attack",void 0);bt([Zt(0)],Ks.prototype,"release",void 0);class Gr extends de{constructor(){super(Object.assign(H(Gr.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=H(Gr.getDefaults(),arguments,["pan"]);this.pan=new Oe({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Re(this,"pan")}static getDefaults(){return Object.assign(de.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const m0="bit-crusher",g0=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Ru(m0,g0);class De extends de{constructor(){super(H(De.getDefaults(),arguments,["solo"])),this.name="Solo";const e=H(De.getDefaults(),arguments,["solo"]);this.input=this.output=new Qe({context:this.context}),De._allSolos.has(this.context)||De._allSolos.set(this.context,new Set),De._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(de.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),De._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){De._soloed.has(this.context)||De._soloed.set(this.context,new Set),De._soloed.get(this.context).add(this)}_removeSolo(){De._soloed.has(this.context)&&De._soloed.get(this.context).delete(this)}_isSoloed(){return De._soloed.has(this.context)&&De._soloed.get(this.context).has(this)}_noSolos(){return!De._soloed.has(this.context)||De._soloed.has(this.context)&&De._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),De._allSolos.get(this.context).delete(this),this._removeSolo(),this}}De._allSolos=new Map;De._soloed=new Map;class Zr extends de{constructor(){super(H(Zr.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=H(Zr.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Gr({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new xn({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Re(this,["pan","volume"])}static getDefaults(){return Object.assign(de.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class _n extends de{constructor(){super(H(_n.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=H(_n.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new De({solo:e.solo,context:this.context}),this._panVol=this.output=new Zr({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Re(this,["pan","volume"])}static getDefaults(){return Object.assign(de.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return _n.buses.has(e)||_n.buses.set(e,new Qe({context:this.context})),_n.buses.get(e)}send(e,n=0){const s=this._getBus(e),r=new Qe({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}_n.buses=new Map;class _0 extends de{constructor(){super(...arguments),this.name="Listener",this.positionX=new Oe({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Oe({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Oe({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Oe({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Oe({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Oe({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Oe({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Oe({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Oe({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(de.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}hi(t=>{t.listener=new _0({context:t})});fi(t=>{t.listener.dispose()});pt().transport;pt().destination;pt().destination;pt().listener;pt().draw;pt();const Du=Symbol("synth");const y0=Ut({setup(){return{synth:Wt(Du)}},props:{note:{type:String,required:!0}},computed:{isBlack(){return this.note.includes("#")}},methods:{attack(){var t;(t=this.synth)==null||t.triggerAttack(this.note)},release(){var t;(t=this.synth)==null||t.triggerRelease()}}});function v0(t,e,n,s,r,i){return On(),In("button",{class:Yr(["btn btn-sm btn-outline-dark",{"bg-dark text-light":t.isBlack,"bg-light text-dark":!t.isBlack}]),onMousedown:e[0]||(e[0]=(...o)=>t.attack&&t.attack(...o)),onMouseup:e[1]||(e[1]=(...o)=>t.release&&t.release(...o))},dc(t.note),35)}var Pu=Mn(y0,[["render",v0],["__scopeId","data-v-74a6f61c"]]);const w0=Ut({components:{Key:Pu},props:{number:{type:Number,required:!0}}});function T0(t,e,n,s,r,i){const o=cn("Key");return On(),In(lt,null,[ue(o,{note:`C${t.number}`},null,8,["note"]),ue(o,{note:`C#${t.number}`},null,8,["note"]),ue(o,{note:`D${t.number}`},null,8,["note"]),ue(o,{note:`D#${t.number}`},null,8,["note"]),ue(o,{note:`E${t.number}`},null,8,["note"]),ue(o,{note:`F${t.number}`},null,8,["note"]),ue(o,{note:`F#${t.number}`},null,8,["note"]),ue(o,{note:`G${t.number}`},null,8,["note"]),ue(o,{note:`G#${t.number}`},null,8,["note"]),ue(o,{note:`A${t.number}`},null,8,["note"]),ue(o,{note:`A#${t.number}`},null,8,["note"]),ue(o,{note:`B${t.number}`},null,8,["note"])],64)}var b0=Mn(w0,[["render",T0]]);const C0=Ut({components:{Octave:b0,Key:Pu}}),A0={class:"card"},S0={class:"card-body d-flex overflow-auto"};function x0(t,e,n,s,r,i){const o=cn("Key"),a=cn("Octave");return On(),In("div",A0,[nt("div",S0,[ue(o,{note:"A0"}),ue(o,{note:"A#0"}),ue(o,{note:"B0"}),ue(a,{number:1}),ue(a,{number:2}),ue(a,{number:3}),ue(a,{number:4}),ue(a,{number:5}),ue(a,{number:6}),ue(a,{number:7}),ue(o,{note:"C8"})])])}var k0=Mn(C0,[["render",x0],["__scopeId","data-v-5c64f139"]]);const N0=Ut({data(){return{playing:!1}},methods:{async play(){this.playing!==!0&&(this.playing=!0,await Nu())}},computed:{buttonText(){return this.playing===!0?"playing...":"play"}}}),E0={class:"card"},O0={class:"card-body"},I0=["disabled"];function M0(t,e,n,s,r,i){return On(),In("div",E0,[nt("div",O0,[nt("button",{class:"btn btn-success me-2",onClick:e[0]||(e[0]=(...o)=>t.play&&t.play(...o)),disabled:t.playing},dc(t.buttonText),9,I0)])])}var R0=Mn(N0,[["render",M0]]);const D0=Ut({components:{Keyboard:k0,ControlPanel:R0},setup(){const t=new ss;return Cs(Du,t),{synth:t}},mounted(){this.synth.toDestination()},methods:{async unmute(){await Nu()}}});function P0(t,e,n,s,r,i){const o=cn("ControlPanel"),a=cn("Keyboard");return On(),In(lt,null,[ue(o),ue(a)],64)}var F0=Mn(D0,[["render",P0]]);const V0=lp({history:kd("./"),routes:[{path:"/",name:"home",component:kp},{path:"/piano",name:"piano",component:F0}]}),Jo=rd(vp);Jo.use(cd());Jo.use(V0);Jo.mount("#app");
